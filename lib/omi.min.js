!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue"),require("vue-runtime-helpers/dist/normalize-component.js"),require("async-validator"),require("@vue/babel-helper-vue-jsx-merge-props")):"function"==typeof define&&define.amd?define(["vue","vue-runtime-helpers/dist/normalize-component.js","async-validator","@vue/babel-helper-vue-jsx-merge-props"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).omi=e(t.Vue,t.__vue_normalize__,t.AsyncValidator,t._mergeJSXProps)}(this,(function(t,e,i,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=r(t),s=r(e),a=r(i),l=r(n);function u(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function h(t){return Array.isArray(t)}function d(t,e){return h(e)?e.some((function(e){return t===e})):t===e}function f(t){return"function"==typeof t}function p(t,e){var i;return"string"==typeof e?((i={})[e]=""+t+e,i):h(e)?e.reduce((function(e,i){return e[i]=""+t+i,e}),{}):null}function m(t){return null===t?[]:/^\d+/.exec(t)}function v(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function g(t){return"string"==typeof t}function y(t,e){void 0===e&&(e=16);var i=0,n=null;return function(){for(var r=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=Date.now(),u=e-(l-i);u<=0?(t.apply(this,s),i=Date.now()):n=setTimeout((function(){clearTimeout(n),t.apply(r,s)}),u)}}function _(t){return"[object Date]"===Object.prototype.toString.call(t)}function b(t){return t instanceof Promise}function C(t){return"number"==typeof t}function x(t){return null==t||""===t}function S(t,e,i){if(x(e)||x(i))return t;var n=Math.max(i,t);return Math.min(n,e)}function w(){}var T=o.default.prototype.$isServer;const $={name:"OmiForm",provide:function(){return{omiForm:this}},data:function(){return{fields:[]}},props:{labelAlign:{type:String,default:null},labelWith:{type:[String,Number],default:null},showStatus:{type:Boolean,default:!0},firstValidate:{type:Boolean,default:!1},colon:{type:Boolean,default:!0},scrollToError:{type:Boolean,default:!1},showError:{type:String,default:""},models:{type:Object},autocomplete:{type:Boolean,default:!1}},methods:{onValidate:function(t,e){this.$emit("validate",t,e)},resetValidate:function(){this.fields.forEach((function(t){return t.resetValidate()}))},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}))[0];if(e)return e.validate(null);throw new Error("please pass in valid name from item!")},scrollToView:function(t){t.scrollIntoView()},validateRace:function(t){var e=this,i=this.fields,n=[];return i.reduce((function(t,i){return t.then((function(){return n.length?Promise.resolve():i.validate().then((function(t){t&&(n.push(t),e.scrollToError&&e.scrollToView(i.$el))}))}))}),Promise.resolve()).then((function(){var e=null;return n.length&&(e=n[0]),f(t)&&t(e),e}))},validateAll:function(t){var e=this;return new Promise((function(i){var n=e.fields,r=null,o=n.map((function(t){return t.validate()}));Promise.all(o).then((function(o){if(r=o.filter((function(t){return t})),e.scrollToError){var s=r[0].name,a=n.filter((function(t){return t.name===s}))[0];e.scrollToView(a.$el)}var l=r.length?r:null;f(t)&&t(l),i(l)}))}))},validate:function(t){return this.firstValidate?this.validateRace(t):this.validateAll(t)}}};var k=function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{staticClass:"omi-form",attrs:{autocomplete:t.autocomplete}},[t._t("default")],2)};k._withStripped=!0;var I=s.default({render:k,staticRenderFns:[]},undefined,$,undefined,!1,undefined,void 0,void 0);I.install=function(t){t.component(I.name,I)};const O={name:"OmiIcon",props:{type:{type:String,default:"",required:!0},size:{type:[String,Number],default:null}},computed:{iconSize:function(){return"font-size: "+this.size+"px"},iconClass:function(){return["omi-"+this.type]}}};var P=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{staticClass:"omi-icon-font",class:t.iconClass,style:t.iconSize})};P._withStripped=!0;var B,E=s.default({render:P,staticRenderFns:[]},undefined,O,undefined,!1,undefined,void 0,void 0);E.install=function(t){t.component(E.name,E)};const A={name:"OmiNavBar",props:{showLeftArrow:{type:Boolean,default:!0},title:{type:String},right:{type:String},left:{type:String}},components:(B={},B[E.name]=E,B),methods:{onClick:function(t,e){this.$emit(e,t)}}};var D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-nav-bar omi-border__bottom"},[i("div",{staticClass:"omi-nav-bar__left",on:{click:function(e){return t.onClick(e,"clickLeft")}}},[t._t("left",(function(){return[t.showLeftArrow?i("omi-icon",{attrs:{type:"return"}}):t._e()]})),t._v(" "),i("span",{staticClass:"omi-nav-bar__left--text"},[t._v(t._s(t.left))])],2),t._v(" "),i("div",{staticClass:"omi-nav-bar__middle"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"omi-nav-bar__right",on:{click:function(e){return t.onClick(e,"clickRight")}}},[t._t("right",(function(){return[t._v(t._s(t.right))]}))],2)])};D._withStripped=!0;var M,z=s.default({render:D,staticRenderFns:[]},undefined,A,undefined,!1,undefined,void 0,void 0);z.install=function(t){t.component(z.name,z)};var L="omi-cell__inner",N=["append","tag","activeClass","exact","event","exactActiveClass","replace","to"],F=N[0],R=N[1],V=N[2],j=N[3],W=N[4],H=N[5],Y=N[6],X=N[7],q=((M={href:{type:String,default:null}})[F]={type:Boolean,default:!1},M[R]={type:String,default:"div"},M[V]={type:String,default:null},M[j]={type:Boolean,default:!1},M[W]={type:String,default:null},M[H]={type:String,default:null},M[X]={type:String,default:null},M[Y]={type:Boolean,default:!1},M),K={props:q,methods:{createHrefTag:function(t){return(0,this.$createElement)("a",{attrs:{href:this.href},class:L},[t])},createRouteTag:function(t){var e=this.$createElement,i=function(t){var e={};return N.forEach((function(i){null!==t[i]&&(e[i]=t[i])})),e}(this),n={props:i};return e("RouterLink",l.default([{},n,{class:L}]),[t])},createNormalTag:function(t){return(0,this.$createElement)("div",{class:L},[t])}},render:function(){var t=this.href,e=this.to,i=this.createHrefTag,n=this.createRouteTag,r=this.createNormalTag,o=this.$slots.default;return t?i(o):e?n(o):r(o)}},U=q.to,G=q.append,Z=q.tag;const J={name:"OmiCell",inheritAttrs:!1,props:{to:U,replace:q.replace,tag:Z,event:q.event,append:G,href:{type:String,default:null},rightArrow:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},titleClass:{type:String,default:""},contentClass:{type:String,default:""},titleStyle:{type:String,default:null},contentStyle:{type:String,default:null},title:{type:String,default:""},label:{type:String,default:""},content:{type:String,default:""},titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},contentAlign:{type:String,default:null}},components:{Icon:E,RouteButton:K},methods:{renderSlot:function(t){return this.$slots[t]}},computed:{renderTitle:function(){var t=this.title,e=this.label,i=this.$slots;return t||e||i.title||i.label},clickAbleClass:function(){return this.clickable?"omi-cell__clickable":null},customTitleStyles:function(){if(this.titleStyle)return this.titleStyle;var t,e="";if(this.titleWidth){var i=null;g(t=this.titleWidth)&&!x(t)&&/^\d+(px|rem|%|vw|em|vh|vmin|vmax)$/g.test(t)?i=this.titleWidth:/^\d+/.test(this.titleWidth)&&(i=m(this.titleWidth)[0]+"px"),e="flex: none; width: "+i+";"}return e+"text-align: "+this.titleAlign},customContentStyles:function(){return this.contentStyle?this.contentStyle:"text-align: "+this.contentAlign}}};var Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._g({staticClass:"omi-cell",class:t.clickAbleClass},t.$listeners),[i("route-button",{attrs:{to:t.to,replace:t.replace,append:t.append,href:t.href,tag:t.tag,event:t.event}},[t.renderSlot("left-icon")?i("div",{staticClass:"omi-cell__left--icon"},[t._t("left-icon")],2):t._e(),t._v(" "),t.renderTitle?i("div",{staticClass:"omi-cell__title",class:t.titleClass,style:t.customTitleStyles},[t._t("title",(function(){return[t.title?i("div",[t._v(t._s(t.title))]):t._e()]})),t._v(" "),t._t("label",(function(){return[t.label?i("div",{staticClass:"omi-cell__label"},[t._v(t._s(t.label))]):t._e()]}))],2):t._e(),t._v(" "),t.renderSlot("content")||t.content?i("div",{staticClass:"omi-cell__content",class:t.contentClass},[i("div",{staticClass:"omi-cell__content--body",style:t.customContentStyles},[t._t("content",(function(){return[i("span",[t._v(t._s(t.content))])]}))],2),t._v(" "),t._t("description")],2):t._e(),t._v(" "),t.renderSlot("extra")?i("div",{staticClass:"omi-cell__extra"},[t._t("extra")],2):t._e(),t._v(" "),t.renderSlot("right-icon")||t.rightArrow?i("div",{staticClass:"omi-cell__right--icon"},[t._t("right-icon",(function(){return[i("icon",{attrs:{type:"enter"}})]}))],2):t._e()])],1)};Q._withStripped=!0;var tt,et=s.default({render:Q,staticRenderFns:[]},undefined,J,undefined,!1,undefined,void 0,void 0);function it(){return it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},it.apply(this,arguments)}et.install=function(t){t.component(et.name,et)};const nt={name:"OmiFormItem",inheritAttrs:!1,provide:function(){return{omiFormItem:this}},inject:{omiForm:{default:null}},data:function(){return{status:"",validateMessage:""}},props:{labelWith:{type:[String,Number],default:null},showStatus:{type:Boolean,default:!0},showRequired:{type:Boolean,default:!0},labelFor:{type:String,default:null},rules:{type:Array,default:function(){return[]}},colon:{type:Boolean,default:!1},name:{type:String,default:""},label:{type:String,default:""}},components:(tt={},tt[et.name]=et,tt),methods:{validate:function(t,e){var i,n=this;void 0===e&&(e=function(){});var r=this.getRulesByTrigger(t);if(0===r.length)return Promise.resolve().then((function(){return e()}));r.forEach((function(t){delete t.trigger}));var o=this.name,s=this.filedValue,l={};l[o]=r;var u=((i={})[o]=s,i),c=new a.default(l);return this.setValidateStatus("validating"),c.validate(u,{firstFields:!0}).then((function(){n.setValidateStatus("success"),n.validateMessage="",n.omiForm.onValidate(null,o),e()})).catch((function(t){var i=t.errors,r=t.fields;n.setValidateStatus("failed");var s=i[0].message;n.validateMessage=s;var a={name:o,message:s,fields:r};return n.omiForm.onValidate(i,o),e(a),a}))},resetValidate:function(){this.status="",this.validateMessage=""},getRulesByTrigger:function(t){var e=this.rules;if(!t)return e.map((function(t){return it({},t)}));var i=new RegExp("^"+t+"$");return e.filter((function(t){var e=t.trigger;return!e||i.test(e)})).map((function(t){return it({},t)}))},setValidateStatus:function(t){this.status=t}},computed:{filedValue:function(){var t=this.name;return t&&this.omiForm?function(t,e){var i=e.split(".");if(1===i.length)return t[e];for(var n,r=t,o=u(i);!(n=o()).done;){var s=n.value;if(!(s in r))throw new Error("please transfer a valid prop path to form item!");r=r[s];break}return r}(this.omiForm.models,t):""},isRequired:function(){return this.rules.some((function(t){return t.required}))},titleStyle:function(){var t=this.omiForm;return"width: "+(t&&t.labelWith||this.labelWith)+"px; text-align: "+(t&&t.labelAlign||this.labelAlign)},titleClass:function(){var t="omi-form-item__title";return this.isRequired&&this.showRequired&&(t+=" omi-form-title__required"),t}},created:function(){this.omiForm&&this.omiForm.fields.push(this)}};var rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-form-item",class:{"omi-form-item__error":t.validateMessage}},[i("omi-cell",t._b({attrs:{"title-class":t.titleClass,"title-style":t.titleStyle}},"omi-cell",t.$attrs,!1),[i("template",{slot:"icon-left"},[t._t("icon-left")],2),t._v(" "),i("template",{slot:"title"},[t._t("label",(function(){return[t.label?i("label",{attrs:{for:t.labelFor}},[t._v("\n          "+t._s(t.label)+"\n          "),t.colon?i("span",[t._v(":")]):t._e()]):t._e()]}))],2),t._v(" "),i("template",{slot:"content"},[t._t("default")],2),t._v(" "),i("template",{slot:"extra"},[t._t("extra")],2),t._v(" "),i("template",{slot:"icon-right"},[t._t("icon-right")],2),t._v(" "),t.name?i("template",{slot:"description"},[i("transition",{attrs:{name:"fade-in-bottom"}},[t.validateMessage?i("div",{staticClass:"omi-form-item__message"},[t._v(t._s(t.validateMessage))]):t._e()])],1):t._e()],2)],1)};rt._withStripped=!0;var ot=s.default({render:rt,staticRenderFns:[]},undefined,nt,undefined,!1,undefined,void 0,void 0);ot.install=function(t){t.component(ot.name,ot)};function st(){return st=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},st.apply(this,arguments)}var at={data:function(){return{isComposing:!1}},methods:{onInput:function(t){this.isComposing||this.$emit("input",t.target.value)},onKeyPress:function(t){"search"===this.type&&13===t.keyCode&&(this.blur(),this.$emit("search",t))},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t),f(this.validateTriggerOn)&&this.validateTriggerOn("blur")},onCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}(i)},onCompositionStart:function(){this.isComposing=!0},onCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.onInput(t))}},computed:{listeners:function(){return st({},this.$listeners,{input:this.onInput,focus:this.onFocus,blur:this.onBlur,keypress:this.onKeyPress,compositionstart:this.onCompositionStart,compositionupdate:this.onCompositionUpdate,compositionend:this.onCompositionEnd})}}},lt=["text","password","url","email","date","number","tel","search"];const ut={name:"OmiInput",mixins:[{inject:{omiFormItem:{default:null}},methods:{validateTriggerOn:function(t){this.omiFormItem&&this.omiFormItem.validate(t)}}},at],inheritAttrs:!1,data:function(){return{isComposing:!1}},methods:{focus:function(){this.$refs.input.focus()}},watch:{value:function(){this.validateTriggerOn("change")}},props:{type:{validator:function(t){return d(t,lt)},default:"text"},value:{type:[String,Number],default:""}}};var ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-input"},[i("input",t._g(t._b({ref:"input",staticClass:"omi-input__inner",attrs:{type:t.type},domProps:{value:t.value}},"input",t.$attrs,!1),t.listeners))])};ct._withStripped=!0;var ht=s.default({render:ct,staticRenderFns:[]},undefined,ut,undefined,!1,undefined,void 0,void 0);ht.install=function(t){t.component(ht.name,ht)};const dt={name:"OmiCellGroup",props:{title:{type:String,default:""},description:{type:String,default:""}}};var ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-cell-group"},[t.title?i("div",{staticClass:"omi-cell-group__title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("div",[t._t("default")],2),t._v(" "),t.description?i("div",{staticClass:"omi-cell-group__description"},[t._v(t._s(t.description))]):t._e()])};ft._withStripped=!0;var pt=s.default({render:ft,staticRenderFns:[]},undefined,dt,undefined,!1,undefined,void 0,void 0);pt.install=function(t){t.component(pt.name,pt)};var mt={name:"OmiLoading",data:function(){return{showIndex:0}},props:{lazyShow:{type:Boolean,default:!1},spinner:{type:Boolean,default:!1},size:{type:[String,Number],default:null},color:{type:String,default:null},loadingText:{type:String,default:null}},methods:{show:function(t){this.spinner&&(this.showIndex=t)},lazyClass:function(t){return this.lazyShow&&t>this.showIndex?"omi-loading__item--lazy":null}},computed:{wrapperClasses:function(){return{"omi-loading__vertical":this.loadingText,"omi-loading__lazy":this.lazyShow}},customStyles:function(){if(this.lazyShow&&this.spinner)return"animation-name: none";var t=m(this.size)[0];t=t?"width: "+t+"px; height: "+t+"px;":null;var e=this.spinner?"animation-timing-function: steps(12);":null;return t+" "+this.customColor+" "+e},customColor:function(){return"color:"+this.color+";"}}};const vt=mt;var gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-loading",class:t.wrapperClasses},[i("div",{staticClass:"omi-loading__spinner",style:t.customStyles},[t.spinner?t._l(12,(function(e,n){return i("i",{key:e,class:t.lazyClass(n+1)})})):[i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])]],2),t._v(" "),t.loadingText?i("div",{staticClass:"omi-loading__text",style:t.customColor},[t._v(t._s(t.loadingText))]):t._e()])};gt._withStripped=!0;var yt=s.default({render:gt,staticRenderFns:[]},undefined,vt,undefined,!1,undefined,void 0,void 0);yt.install=function(t){t.component(yt.name,yt)};var _t=["normal","small","mini"],bt=["default","primary","danger","info","warning","success"],Ct=["submit","button","reset"],xt=["square","round"],St={name:"OmiButton",props:{size:{type:String,validator:function(t){return d(t,_t)},default:"normal"},nativeType:{type:String,validator:function(t){return d(t,Ct)},default:"button"},type:{type:String,validator:function(t){return d(t,bt)},default:"primary"},block:{type:Boolean,default:!1},text:{type:String,default:""},loadingText:{type:String,default:""},round:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Loading:yt},computed:{showLoadingText:function(){return this.loading&&this.loadingText},typeClassesMap:function(){return p("omi-btn__",bt)},sizeClassesMap:function(){return p("omi-btn__",_t)},shapeClassesMap:function(){return p("omi-btn__",xt)},buttonClass:function(){var t=this.type,e=this.size,i=this.typeClassesMap,n=this.sizeClassesMap,r=this.shapeClassesMap,o=this.block,s=this.disabled,a=xt[0],l=xt[1],u=this.round?l:a;return[i?i[t]:null,n?n[e]:null,r?r[u]:null,o?"omi-btn__block":null,s?"omi-btn__disable":null]}}};const wt=St;var Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",t._g({staticClass:"omi-btn",class:t.buttonClass,attrs:{disabled:t.disabled,type:t.nativeType}},t.$listeners),[i("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"omi-btn__loading",attrs:{size:"20"}}),t._v(" "),t.showLoadingText?i("span",{staticClass:"omi-btn__text"},[t._v(t._s(t.loadingText))]):i("span",{staticClass:"omi-btn__text"},[t._t("default",(function(){return[t._v(t._s(t.text))]}))],2)],1)};Tt._withStripped=!0;var $t=s.default({render:Tt,staticRenderFns:[]},undefined,wt,undefined,!1,undefined,void 0,void 0);$t.install=function(t){t.component($t.name,$t)};var kt=function(t,e){var i;return{inject:(i={},i[t]={default:null},i),computed:{parent:function(){return e&&this[e]?null:this[t]}},mounted:function(){this.parent&&this.parent.addChild(this)},beforeDestroy:function(){this.parent&&this.parent.removeChild(this)}}};function It(t){var e=t.type,i=t.classPrefix,n=t.checkParent,r=t.unbindParent;return{mixins:[kt(n,r)],watch:{value:function(t){this.$emit("change",t)}},props:{activeColor:{type:String,default:null},disable:{type:Boolean,default:!1},prop:{type:[String,Number,Boolean],default:null},value:{type:Boolean,default:!1},text:{type:String,default:""},size:{type:[String,Number],default:null},square:{type:Boolean,default:!1}},methods:{getSlots:function(t){return this.$slots[t]},createClass:function(t){return""+i+t},onClick:function(t){t.stopPropagation(),this.isDisabled||this.check()},check:function(t){var e=this;void 0===t&&(t=!this.isChecked),clearTimeout(this.timer),this.timer=setTimeout((function(){e.isChecked=t}))},getCheckIcon:function(){var t=this.$createElement,e=t("div",{class:this.innerClasses,style:this.innerStyles},[t(E,{attrs:{type:"right"}})]);return this.getSlots("icon")||e}},computed:{innerStyles:function(){return"background-color: "+this.customColor},customColor:function(){var t=this.isDisabled,e=this.activeColor,i=this.isChecked,n=this.parent,r=e||n&&n.activeColor;return r&&i&&!t?r:null},inputClasses:function(){var t,e=this.square,i=this.isChecked,n=this.createClass("__checked"),r=this.createClass("__square");return(t={})[this.createClass("__input")]=!0,t[n]=i,t[r]=e,t},innerClasses:function(){return["omi-icon__wrapper",this.createClass("__inner")]},wrapperClasses:function(){var t=this.isDisabled;return[i,t?"omi-check__disable":null]},inputStyles:function(){var t=m(this.size)[0],e=this.customColor;return t?"font-size:"+t+"px; border-color: "+e:null},tabindex:function(){return this.isDisabled||"radio"===e&&!this.isChecked?-1:0},isDisabled:function(){var t=this.disable,e=this.parent;return t||e&&e.disable},isChecked:{get:function(){return this.parent?this.parent.isChecked(this.prop):this.value},set:function(t){var e=this.parent;this.$emit("input",t),e&&this.parent.toggle(t,this.prop)}}},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},render:function(){var t=arguments[0],n=this.text;return t("div",{attrs:{role:e,"aria-checked":this.isChecked,tabindex:this.tabindex},class:this.wrapperClasses,on:{click:this.onClick}},[t("div",{class:this.inputClasses,style:this.inputStyles},[this.getCheckIcon()]),t("div",{class:i+"__text"},[this.getSlots("default")||n&&t("span",[n])])])}}}var Ot={name:"OmiCheckbox",mixins:[It({type:"checkbox",classPrefix:"omi-checkbox",checkParent:"omiCheckGroup",unbindParent:"indeterminate"})],props:{indeterminate:{type:Boolean,default:!1}},install:function(t){t.component(Ot.name,Ot)}},Pt={props:{disable:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},activeColor:{type:String,default:null}}},Bt=function(t,e){return t.indexOf(e)},Et=function(t){return{provide:function(){var e;return(e={})[t]=this,e},data:function(){return{children:[]}},methods:{addChild:function(t){-1===Bt(this.children,t)&&this.children.push(t)},removeChild:function(t){var e=this.children,i=Bt(e,t);i>-1&&this.children.splice(i,1)}}}},At={name:"OmiCheckboxGroup",mixins:[Pt,Et("omiCheckGroup")],data:function(){return{children:[]}},props:{max:{type:[String,Number],default:-1}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t,e){var i=this.getValueIndex(e),n=[].concat(this.value);if(t){var r=this.max;if(this.value.length>=r&&r>=0)return;-1===i&&n.push(e)}else!1===t&&i>=0&&n.splice(i,1);this.$emit("input",n)},getValueIndex:function(t){return this.value.indexOf(t)},toggleAll:function(t){if(void 0===t&&(t=null),!1!==t){var e=this.children,i=this.max;null===t&&(e=e.filter((function(t){return!t.isChecked}))),i>=0&&e.length>i&&(e=e.slice(0,i));var n=e.map((function(t){return t.prop}));this.$emit("input",n)}else this.$emit("input",[])},isChecked:function(t){return this.getValueIndex(t)>=0}}};const Dt=At;var Mt=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"omi-checkbox-group",class:{"omi-checkbox-horizontal":t.horizontal}},[t._t("default")],2)};Mt._withStripped=!0;var zt=s.default({render:Mt,staticRenderFns:[]},undefined,Dt,undefined,!1,undefined,void 0,void 0);zt.install=function(t){t.component(zt.name,zt)};var Lt={name:"OmiRadio",mixins:[It({type:"radio",classPrefix:"omi-radio",checkParent:"omiRadioGroup",unbindParent:"indeterminate"})],install:function(t){t.component(Lt.name,Lt)}};const Nt={name:"OmiRadioGroup",mixins:[Pt,Et("omiRadioGroup")],props:{value:{type:[String,Number,Boolean],default:null}},watch:{value:function(t){this.$emit("change",t)}},methods:{isChecked:function(t){return t===this.value},toggle:function(t,e){!1!==t&&e!==this.vlue&&this.$emit("input",e)}}};var Ft=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"omi-radio-group",class:{"omi-checkbox-horizontal":t.horizontal}},[t._t("default")],2)};Ft._withStripped=!0;var Rt=s.default({render:Ft,staticRenderFns:[]},undefined,Nt,undefined,!1,undefined,void 0,void 0);Rt.install=function(t){t.component(Rt.name,Rt)};var Vt=["butt","round","square"],jt=0;const Wt={name:"OmiCircle",props:{circleRadius:{type:Number,default:40},strokeWidth:{type:[Number,String],default:40},strokeColor:{type:[String,Object],default:null},clockwise:{type:Boolean,default:!0},percentage:{type:[String,Number],default:0},max:{type:Number,default:100,validator:function(t){return t<=100}},text:{type:String,default:null},strokeLinecap:{type:String,validator:function(t){return d(t,Vt)},default:null},transition:{type:[Boolean,String],default:"ease"}},computed:{perimeter:function(){var t=Math.PI;return(0,Math.ceil)(800*t)},diameter:function(){return 2*this.circleRadius},isGradient:function(){return v(this.strokeColor)},customColor:function(){return this.isGradient?"url(#"+this.gradientId+")":this.strokeColor},wrapperStyles:function(){var t=this.diameter;return"height: "+t+"px; width: "+t+"px"},baseStyle:function(){return"stroke-width: "+this.sizeString+"px;"},formatPercentage:function(){var t=this.max,e=Math.ceil(1*this.percentage);return e>t?t:e},perimeterRate:function(){var t=this.perimeter,e=this.max,i=this.formatPercentage;return i>e?null:(0,Math.ceil)(i/100*t)},layStyle:function(){var t=this.sizeString,e=this.customColor,i=this.perimeter,n=this.perimeterRate,r=this.transition,o=this.strokeLinecap;return"\n        stroke-width: "+(1*t+1)+"px;\n        stroke: "+e+";\n        stroke-dasharray: "+(n+"px "+i+"px")+"; "+(r?"transition: stroke-dasharray .3s "+r+";":null)+";\n        "+(o?"stroke-linecap: "+o+";":null)+"\n      "},sizeString:function(){return m(this.strokeWidth)[0]},baseSize:function(){return 800+1*this.sizeString},viewBox:function(){var t=this.baseSize;return"0 0 "+t+" "+t},getPath:function(){var t=this.baseSize,e=this.clockwise?1:0;return"M "+t/2+" "+t/2+" m 0 -"+"400 a "+"400 "+"400 0 1 "+e+" 0, 800 a "+"400 "+"400 0 1 "+e+" 0, -800"}},created:function(){jt+=1,this.gradientId="omi-circle__gradient-"+jt}};var Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-circle"},[i("div",{staticClass:"omi-circle__wrapper",style:t.wrapperStyles},[i("svg",{attrs:{viewBox:t.viewBox}},[t.isGradient?i("defs",[i("linearGradient",{attrs:{id:t.gradientId,x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},t._l(t.strokeColor,(function(t,e,n){return i("stop",{key:n,attrs:{offset:e,"stop-color":t}})})),1)],1):t._e(),t._v(" "),i("path",{staticClass:"omi-circle__base",style:t.baseStyle,attrs:{d:t.getPath}}),t._v(" "),i("path",{staticClass:"omi-circle__stroke",style:t.layStyle,attrs:{d:t.getPath}})]),t._v(" "),t._t("default",(function(){return[t.text?i("div",{staticClass:"omi-cirecle__text"},[t._v(t._s(t.text))]):i("div",{staticClass:"omi-cirecle__text"},[t._v(t._s(t.formatPercentage)+"%")])]}))],2)])};Ht._withStripped=!0;var Yt=s.default({render:Ht,staticRenderFns:[]},undefined,Wt,undefined,!1,undefined,void 0,void 0);Yt.install=function(t){t.component(Yt.name,Yt)};const Xt={name:"OmiSwitch",props:{size:{type:Number,default:null},value:{type:Boolean,default:!1},activeColor:{type:String,default:null},loading:{type:Boolean,default:!1},loadingSize:{type:Number,default:12},disable:{type:Boolean,default:!1}},components:{Loading:yt},methods:{onClick:function(){var t=this.disable,e=this.value;t||this.$emit("input",!e)}},computed:{swithClasses:function(){return{"omi-switch__checked":this.value,"omi-switch__disable":this.disable}},switchStyle:function(){return"transform: translateX("+(this.value?"100%":"0")+")"},wrapperStyles:function(){var t=this.value,e=this.activeColor,i={fontSize:this.size+"px"};return t&&e&&(i.backgroundColor=e),i}}};var qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-switch",class:t.swithClasses,style:t.wrapperStyles,attrs:{role:"switch","aria-checked":t.value},on:{click:t.onClick}},[i("div",{staticClass:"omi-switch__node",style:t.switchStyle},[i("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{size:t.loadingSize}})],1)])};qt._withStripped=!0;var Kt=s.default({render:qt,staticRenderFns:[]},undefined,Xt,undefined,!1,undefined,void 0,void 0);Kt.install=function(t){t.component(Kt.name,Kt)};var Ut=["success","loading","error","text","html"],Gt={name:"OmiToast",data:function(){return{zIndex:0}},watch:{noScroll:{handler:"preventScroll",immediate:!0},value:{handler:"preventScroll",immediate:!0}},props:{clickClose:{type:Boolean,default:!1},noScroll:{type:Boolean,default:!0},icon:{type:String,default:null},content:{type:String,default:""},value:{type:Boolean,default:!1},baseZindex:{type:Number,default:2e3},type:{type:String,default:"text",validator:function(t){return d(t,Ut)}}},methods:{preventScroll:function(){var t=this.noScroll,e=this.value;this.$nextTick((function(){t&&e?document.body.classList.add("omi-toast__noscroll"):document.body.classList.remove("omi-toast__noscroll")}))},setZindex:function(t){void 0===t&&(t=0),this.zIndex=t+this.baseZindex},getIcon:function(){var t=this.$createElement,e=this.type,i=this.icon;if("loading"===e)return t(yt,{attrs:{size:24,spinner:!0}});if(i)return t(E,{attrs:{type:i}});var n=null;return"error"===e&&(n="close"),"success"===e&&(n="right"),n?t(E,{attrs:{type:n}}):null},getText:function(){var t=this.$createElement,e=this.content;return"html"===this.type?t("div",{class:"omi-toast__text",domProps:{innerHTML:e}}):e?t("span",{class:"omi-toast__text"},[this.content]):null},onAfterEnter:function(){f(this.onOpen)&&this.onOpen()},onAfterLeave:function(){this.onClose()},onClick:function(){this.clickClose&&this.$emit("input",!1)}},computed:{getZindex:function(){return"z-index: "+this.zIndex},wrapperClasses:function(){var t=this.type;return"text"===t||"html"===t?"omi-toast_custom":null}},render:function(){var t=arguments[0];return t("transition",{attrs:{name:"fade-in",appear:!0},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{class:["omi-toast",this.wrapperClasses],directives:[{name:"show",value:this.value}],style:this.getZindex,on:{click:this.onClick}},[this.getIcon(),this.getText()])])}},Zt=Date.now();var Jt={};"undefined"!=typeof window&&(Jt=window);var Qt=Jt.requestAnimationFrame||function(t){var e=Date.now(),i=Math.max(0,16-(e-Zt)),n=setTimeout(t,i);return Zt=e+i,n},te=Jt.cancelAnimationFrame||Jt.clearTimeout;function ee(t){return Qt.call(Jt,t)}var ie,ne="undefined"==typeof window,re=!1;if(!ne)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){re=!0}}),window.addEventListener("test-passive",null,oe)}catch(t){}function se(t,e,i){var n;n=ie,te.call(Jt,n);var r=i?Math.round(i/1e3*1e3/16):1,o=0;!function i(){t.scrollLeft+=e/r,o<r&&(o+=1,ie=ee(i))}()}function ae(t){t&&t.remove()}function le(t,e,i,n){void 0===n&&(n=!0);var r=!1;re&&(r={capture:!1,passive:n}),t.addEventListener(e,i,r)}function ue(t,e,i){ne||t.removeEventListener(e,i)}function ce(t){("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),t.stopPropagation()}function he(t,e){void 0===e&&(e=window);for(var i=/scroll|auto/i,n=t;n&&n!==e&&"HTML"!==n.tagName&&1===n.nodeType;){var r=window.getComputedStyle(n).overflowY;if(i.test(r)){if("BODY"!==n.tagName)return n;var o=window.getComputedStyle(n.parentNode).overflowY;if(i.test(o))return n}n=n.parent}return e}function de(t){return"scrollTop"in t?t.scrollTop:t.pageYOffset}function fe(t){var e=null;return t?e=t.getBoundingClientRect?t.getBoundingClientRect():{top:0,bottom:t.innerHeight}:e}function pe(){return pe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},pe.apply(this,arguments)}function me(t){var e=t.VueComponent,i=t.defaultOption,n=t.replacement,r=void 0===n||n,s=t.appendToBody,a=void 0!==s&&s,l=t.banMultiple,u=void 0!==l&&l;if(!e)throw new Error("[omi ui]: expected VueComponent in createInstance");var c=pe({},i),h=[],d=pe({},c),p={},m=!0,y=0;function _(){var t=document.createElement("div"),i=new(o.default.extend(e))({el:t});return i.$on("input",(function(t){i.value=t})),a&&document.body.appendChild(i.$el),i}function b(){var t=h[h.length-1];if(t&&m)return r?(t.$destroy(),ae(t.$el),h[h.length-1]=_(),h[h.length-1]):t;var e=_();return h.push(e),y+=1,e}return function(t){var e=t(b,d,p,y);return e.removeInstance=function(t){m||T()||(h=h.filter((function(e){return e!==t})),t.$destroy(),ae(t.$el))},e.setOptions=function(t,e){if(v(t))return d=pe({},d,t),void(p={});if(!g(t))throw new Error("[omi ui]: Expect valid arguments in setOption");p[t]=e},e.single=function(t){u||(m=t)},e.close=function(){if(0!==h.length){var t=h[0][0];if(m&&t&&f(t.close))t.close();else h.shift().close()}},e.closeAll=function(){h.forEach((function(t){return t.close()}))},e}}function ve(){return ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ve.apply(this,arguments)}function ge(t){return v(t)?t:g(t)?{content:t}:{contente:""}}var ye=me({VueComponent:Gt,defaultOption:{type:"text",icon:"",content:"",durations:2e3,clickClose:!1,noScroll:!0,onClose:function(){},onOpen:function(){}},replacement:!1,appendToBody:!0})((function(t,e,i,n){return function(r){if(T)return{};var o=t(),s=r.type||e.type,a=ve({},e,i[s],ge(r));Object.assign(o,a),f(o.close)||(o.close=function(){Object.assign(o,{value:!1})}),f(o.onClose)||(o.onClose=function(){clearTimeout(o.timer),ye.removeInstance(o)}),Object.assign(o,{value:!0}),o.setZindex(n),o.timer&&clearTimeout(o.timer);var l=a.durations;return l>0&&(o.timer=setTimeout((function(){clearTimeout(o.timer),o.close()}),l)),o}}));Ut.forEach((function(t){ye[t]=function(e){var i=ve({type:t},ge(e));return ye(i)}})),ye.Component=Gt;var _e=ye;_e.install=function(t){t.prototype.$toast=_e,t.component(_e.Component.name,_e)};const be={name:"OmiCollapse",data:function(){return{children:[]}},provide:function(){return{parent:this}},props:{value:{type:Array,default:function(){return[]}},accordion:{type:Boolean,default:!1}},methods:{hasName:function(t){return this.value.indexOf(t)>-1},open:function(t,e){var i=this.value,n=this.accordion,r=[].concat(i);t?(this.hasName(e)||r.push(e),n&&(r=r.filter((function(t){return t===e})))):r=i.filter((function(t){return t!==e})),this.$emit("input",r)}}};var Ce=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"omi-collapse"},[t._t("default")],2)};Ce._withStripped=!0;var xe=s.default({render:Ce,staticRenderFns:[]},undefined,be,undefined,!1,undefined,void 0,void 0);xe.install=function(t){t.component(xe.name,xe)};const Se={name:"OmiCollapseItem",inject:{parent:{default:null}},data:function(){return{height:0}},props:{disable:{type:Boolean,default:!1},title:{type:String,default:null},name:{type:[String,Number],default:null,required:!0}},components:{Cell:et},methods:{fold:function(t){t.style.height="0"},unfold:function(t){t.style.height=this.getHeight()+"px"},getHeight:function(){return this.$refs.inner.offsetHeight},onBeforeEnter:function(t){this.fold(t)},onEnter:function(t){this.unfold(t)},onAfterEnter:function(t){t.style.height=""},onBeforeLeave:function(t){this.unfold(t)},onLeave:function(t){var e,i=this;e=function(){i.fold(t)},ee((function(){ee(e)}))},onClick:y((function(){var t=this.opened;this.disable||(this.opened=!t)}))},computed:{wrapperHeight:function(){return this.$refs.inner.offsetHeight},wrapperClasses:function(){return{"omi-collapse-item__open":this.opened,"omi-collapse-item__disable":this.disable}},opened:{get:function(){if(this.parent)return this.parent.hasName(this.name);throw new Error("[omi ui]: Cannot find parent in collapse item")},set:function(t){this.parent.open(t,this.name)}}},created:function(){this.parent&&this.parent.children&&this.parent.children.push(this)}};var we=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-collapse-item omi-border__bottom",class:t.wrapperClasses,attrs:{"aria-expanded":String(t.opened),tabindex:"0"}},[i("cell",{attrs:{clickable:!t.disable,rightArrow:"",titleClass:"omi-collapse-item__title"},on:{click:t.onClick}},[t._t("title",(function(){return[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))])]}))],2),t._v(" "),i("transition",{attrs:{name:"collapse"},on:{beforeEnter:t.onBeforeEnter,enter:t.onEnter,afterEnter:t.onAfterEnter,beforeLeave:t.onBeforeLeave,leave:t.onLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],staticClass:"omi-collapse-item__wrapper"},[i("div",{ref:"inner",staticClass:"omi-collapse-item__inner"},[t._t("default")],2)])])],1)};we._withStripped=!0;var Te=s.default({render:we,staticRenderFns:[]},undefined,Se,undefined,!1,undefined,void 0,void 0);Te.install=function(t){t.component(Te.name,Te)};function $e(){return{methods:{portal:function(t,e){if(t){var i,n=document.body;g(e)&&(i=e,n=document.querySelector(i)),n.appendChild(t)}}}}}var ke={show:{type:Boolean,default:!1},overlayClassName:{type:String,default:""}};function Ie(){return Ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ie.apply(this,arguments)}var Oe=function(){return{name:"OmiOverlay",props:Ie({},ke),data:function(){return{zIndex:0}},methods:{setZindex:function(t){this.zIndex=t},onClick:function(){this.$emit("clickOverlay")}},computed:{styles:function(){return{zIndex:this.zIndex}}},render:function(){var t=arguments[0];return this.show?t("transition",{attrs:{name:"fade-in",appear:!0}},[t("div",{class:["omi-overlay",this.overlayClassName],style:this.styles,on:{click:this.onClick}})]):null}}};Oe.install=function(t){t.component(Oe.name,Oe)};var Pe=Math.abs,Be={data:function(){return{startX:0,startY:0,offsetY:0,offsetX:0,moveX:0,moveY:0,direction:""}},methods:{touchStart:function(t){this.resetTouch();var e=t.touches[0],i=e.clientX,n=e.clientY;this.startX=i,this.startY=n},touchMove:function(t,e){var i=t.touches[0],n=i.clientX,r=i.clientY;this.moveX=n-this.startX,this.moveY=r-this.startY,this.offsetX=Pe(this.moveX),this.offsetY=Pe(this.moveY),this.direction=function(t,e,i){void 0===i&&(i=10);var n=Math.atan,r=Math.PI,o=180*n(e/t)/r;return o>i?"vertical":o<=i?"horizontal":""}(this.offsetX,this.offsetY,e)},resetTouch:function(){Object.assign(this,{startX:0,startY:0,offsetY:0,offsetX:0,moveX:0,moveY:0,direction:""})}}};function Ee(){return Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ee.apply(this,arguments)}var Ae=0,De={mixins:[Be],props:Ee({},ke),methods:{ontouchMove:function(t){this.touchMove(t);var e=this.direction;if(e){var i=this.moveY,n=this.moveX,r=this.$el,o=r.scrollHeight,s=r.scrollTop,a=r.offsetHeight,l=r.scrollWidth,u=r.scrollLeft,c="vertical"===e,h=!1,d=!1,f=!1,p=!1;s<=0&&(h=!0),u<=0&&(f=!0),s+a>=o&&(d=!0),u+r.offsetWidth>=l&&(p=!0),(c&&(h&&i>0||d&&i<0)||!c&&(f&&n>0||p&&n<0))&&ce(t)}},mountOverlay:function(){var t=this,e=new(o.default.extend(Oe()))({el:document.createElement("div")});return Object.assign(e,function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(ke,this.$props)),this.portal(e.$el),e.setZindex(this.getZindex),e.$on("clickOverlay",(function(){t.clickClose&&t.close()})),this.lockScroll&&(le(document,"touchstart",this.touchStart,!1),le(document,"touchmove",this.ontouchMove,!1),Ae||document.body.classList.add("omi-no-scroll"),Ae+=1),e},unlockScroll:function(){this.lockScroll&&(ue(document,"touchstart",this.onTouchstart),ue(document,"touchmove",this.ontouchMove),Ae>0&&(Ae-=1),document.body.classList.remove("omi-no-scroll"))},destroyOverlay:function(t,e){var i=this;t&&t.$el&&(t.show=!1,this.$nextTick((function(){i.unLoadImmediately(t),e()}))),this.unlockScroll()}}},Me=null,ze={popClose:{type:Boolean,default:!0},value:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0}},Le=0;function Ne(){return{mixins:[$e(),De],props:ze,data:function(){return{onBindPopState:!1,hasRendered:!1}},watch:{value:function(t){t?this.open():this.close()}},methods:{open:function(){Me||this.renderOverLay(),this.portalTo(),!this.onBindPopState&&this.popClose&&(le(window,"popstate",this.bindPopState),this.onBindPopState=!0),this.hasRendered=!0},close:function(){this.hasRendered&&(Me&&this.destroyOverlay(Me,(function(){Me=null})),this.unbindPopState(),this.hasRendered=!1,this.$emit("input",!1))},unLoadImmediately:function(t){t.$destroy(),ae(t.$el),this.unlockScroll()},renderOverLay:function(){this.$isServer||(Me||(Me=this.mountOverlay(),Le+=1),Me.show=!0)},portalTo:function(){var t=this;this.$isServer||this.$nextTick((function(){t.portal(t.$el)}))},bindPopState:function(){this.onBindPopState&&(this.unLoadImmediately(this),this.unLoadImmediately(Me),Me=null,this.unbindPopState())},unbindPopState:function(){var t=this,e=this.$isServer,i=this.onBindPopState;!e&&i&&this.$nextTick((function(){ue(window,"popstate",t.bindPopState),t.onBindPopState=!1}))}},computed:{shouldRender:function(){return this.value},getZindex:function(){return 1e3+Le}},mounted:function(){this.shouldRender&&this.open()}}}var Fe={name:"OmiActionSheet",mixins:[Ne()],props:{className:{type:String,default:null},subtitle:{type:String,default:""},safeAreaInsetBottom:{type:Boolean,default:!0},round:{type:Boolean,default:!1},title:{type:String,default:""},closeIcon:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},closeText:{type:String,default:""},onCancel:{type:Function,default:null},loading:{type:Boolean,default:!1},spinner:{type:Boolean,default:!1},titleAlign:{type:String,default:null},contentAlign:{type:String,default:null}},methods:{handleCancel:function(t){var e=this.onCancel;f(e)?e(t):this.$emit("input",!1)},onSelect:function(t){var e=this;return function(){t.disable||e.$emit("select",t)}},getLoadingContent:function(){var t=this.$createElement;return this.loading?t("div",{class:"omi-action-sheet__loading omi-icon__wrapper"},[t(yt,{attrs:{spinner:this.spinner}})]):null},getContent:function(){var t=this.$slots.default,e=this.getDataList;return t||e()},getDataList:function(){var t=this,e=this.$createElement,i=this.data;return e("transition",{attrs:{name:"fade-in"}},[e("ul",{directives:[{name:"show",value:!this.loading}],class:"omi-action-sheet__list"},[i.map((function(i){var n=i.className,r=i.content,o=i.disable;return e("li",{class:[].concat(["omi-action-sheet__item","omi-border__top"],[n,o?"omi-action-sheet__item--disable":null]),style:t.contentStyles,on:{click:t.onSelect(i)}},[r])}))])])},getCloseButton:function(){var t=this.$createElement,e=this.closeText;return""===e?null:t("div",{class:"omi-action-sheet__cancel"},[t("div",{class:"omi-action-sheet__cancel--button",on:{click:this.handleCancel}},[e])])},getHeader:function(){var t=this.$createElement;if(this.$slots.header)return this.$slots.header;var e=null;return this.title&&(e=t("div",{class:"omi-action-sheet__title--wrapper",style:this.titleStyles},[t("div",{class:"omi-action-sheet__title"},[this.title]),this.subtitle&&t("div",{class:"omi-action-sheet__subtitle"},[this.subtitle])])),e},getCloseIcon:function(){var t=this.$createElement;return this.closeIcon?t("div",{class:"omi-action-sheet__close omi-icon__wrapper",on:{click:this.close}},[t(E,{attrs:{type:"close"}})]):null},onOpen:function(t){this.$emit("open",t)},onclose:function(t){this.$emit("close",t)},getTextALign:function(t){return t?"text-align: "+t:null}},computed:{shouldRenderHeader:function(){return this.$slots.header||this.title||this.subtitle||this.$slots["left-icon"]},contentStyles:function(){return this.getTextALign(this.contentAlign)},titleStyles:function(){return this.getTextALign(this.titleAlign)},actionStyles:function(){return"z-index: "+this.getZindex},wapperClasses:function(){var t,e=this.safeAreaInsetBottom,i=this.round,n=this.className;return(t={"omi-action-sheet":!0,"omi-action-sheet__round":i,"omi-save-area-inset-bottom":e})[n]=n,t}},render:function(){var t=arguments[0];return this.shouldRender?t("transition",{attrs:{name:"slide-in-bottom"},on:{afterEnter:this.onOpen,afterLeave:this.onclose}},[t("div",{class:this.wapperClasses,style:this.actionStyles},[this.shouldRenderHeader&&t("div",{class:"omi-action-sheet__header"},[this.$slots["left-icon"]&&t("div",{class:"omi-action-sheet__header--icon"},[this.$slots["left-icon"]]),this.getHeader(),this.getCloseIcon()]),t("div",{class:"omi-action-sheet__content"},[this.getLoadingContent(),this.getContent(),this.getCloseButton()])])]):null},install:function(t){t.component(Fe.name,Fe)}},Re=["alert","confirm","prompt"],Ve={name:"OmiDialog",mixins:[Ne()],data:function(){return{promptField:{value:""}}},props:{type:{type:String,defualt:"alert",validator:function(t){return d(t,Re)}},clickClose:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},prompt:{type:Object,default:function(){return{value:"",rules:[],placeholder:""}}}},watch:{prompt:function(t,e){t.value!==e.value&&(this.promptField.value=t.value)}},methods:{generateWrapper:function(t){for(var e=this.$createElement,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e("div",{class:t},[].concat(n))},getTitle:function(){return this.title||this.$slots.title?(this.$slots.title&&this.generateWrapper("omi-dialog__header",this.title),this.generateWrapper("omi-dialog__header",this.title)):null},getForm:function(){var t=this,e=this.$createElement;return e(I,{ref:"form",attrs:{models:this.promptField}},[e(ot,{attrs:{name:"value",rules:this.prompt.rules}},[e(ht,{ref:"input",attrs:{value:this.promptField.vaule,placeholder:this.prompt.placeholder},on:{input:function(e){t.promptField.value=e}}})])])},getContent:function(){if(this.$slots.default)return this.generateWrapper("omi-dialog__body",this.$slots.default);var t=[];if(this.content){var e=this.generateWrapper("omi-dialog__body--content",this.content);t.push(e)}if("prompt"===this.type){var i=this.getForm();t.push(i)}return t.length?this.generateWrapper("omi-dialog__body",t):null},handleCancel:function(t){this.close(),this.onCancel(t)},beforeConfirm:function(){var t=this,e=this.onConfirm,i=e.apply(void 0,arguments);b(i)?i.then((function(){return t.close()})):this.close()},handleConfirm:function(t){var e=this;"prompt"===this.type?this.$refs.form.validate().then((function(t){var i=e.promptField.value;e.beforeConfirm(t,i)})):this.beforeConfirm(t)},getFooter:function(){var t=this.$createElement,e=this.showCancel,i=this.showConfirm;return e||i?t("div",{class:"omi-dialog__footer omi-border__top"},[e&&t($t,{attrs:{block:!0,type:"default",text:this.cancelText},class:this.buttonClasses,on:{click:this.handleCancel}}),i&&t($t,{attrs:{block:!0,type:"default",text:this.confirmText},on:{click:this.handleConfirm}})]):null}},computed:{buttonClasses:function(){var t=this.showCancel,e=this.showConfirm;return{"omi-border__right":t&&e}},wrapperStyles:function(){return{zIndex:this.getZindex}}},mounted:function(){var t=this;this.$nextTick((function(){"prompt"===t.type&&setTimeout((function(){t.$refs.input.focus()}),50)}))},render:function(){var t=arguments[0];return this.shouldRender?t("transition",{attrs:{name:"pop-in",appear:!0}},[t("div",{class:"omi-dialog__wrapper",style:this.wrapperStyles},[t("div",{class:"omi-dialog"},[this.getTitle(),this.getContent(),this.getFooter()])])]):null}};function je(){return je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},je.apply(this,arguments)}var We={alert:{},confirm:{type:"confirm",showCancel:!0},prompt:{type:"prompt",showCancel:!0}},He=function(t,e){var i={};return g(t)&&(i.title=t),g(e)&&(i.content=e),i},Ye=me({VueComponent:Ve,defaultOption:{type:Re[0],value:!1,title:"",content:"",cancelText:"",confirmText:"",showCancel:!1,showConfirm:!0,onConfirm:function(){},onCancel:function(){}},banMultiple:!0})((function(t,e,i){return function(n){if(T)return{};var r=t(),o=n&&n.type||e.type,s=je({},e,We[o],i[o],n);return Object.assign(r,s),r.value=!0,r}}));Ye.alert=function(t,e){v(t)?Ye(t):Ye(je({},He(t,e)))},Ye.prompt=function(t,e){v(t)?Ye(je({},We.prompt,t)):Ye(je({},We.prompt,He(t,e)))},Ye.confirm=function(t,e){v(t)?Ye(je({},We.confirm,t)):Ye(je({},We.confirm,He(t,e)))},Ye.Component=Ve;var Xe=Ye;Xe.install=function(t){t.prototype.$dialog=Xe,t.component(Xe.Component.name,Xe)};var qe="~~omiScroll";function Ke(t){if(t[qe]){var e=t[qe],i=e.handler,n=e.scroller;n&&n.removeEventListener("scroll",i)}}function Ue(t,e){var i=e.value,n=null;if(f(i)?n=i:v(i)&&i.callback&&(n=i.callback),n){var r=e.arg,o=he(t);if(o){var s=y((function(t){n(t,o)}));t[qe]&&t[qe].scroller!==o&&Ke(t),r&&s(),o.addEventListener("scroll",s,{passive:!0}),t[qe]={handler:s,scroller:o}}}}const Ge={name:"OmiLoadMore",props:{handleError:{type:Function,default:null},error:{type:Boolean,default:!1},errorText:{type:String,default:""},immediate:{type:Boolean,default:!1},finishedText:{type:String,default:""},loadingSize:{type:[String,Number],default:18},finished:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},offset:{type:Number,default:10},loadingText:{type:String,default:""}},components:{Loading:yt},directives:{scroll:{name:"scroll",inserted:Ue,update:Ue,unbind:Ke}},methods:{errorCallback:function(){var t=this.handleError;f(t)?t():(this.$emit("update:error",!1),this.$emit("load"))},onScroll:function(t,e){if(e){var i=this.loading,n=this.offset,r=this.finished;if(!i&&!r){var o=this.$refs.footer,s=fe(e),a=fe(o);s.bottom+n>=a.top&&this.$emit("load")}}}},computed:{showLoading:function(){var t=this.loading,e=this.finished,i=this.error;return t&&!e&&!i}}};var Ze=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"scroll",rawName:"v-scroll:[immediate]",value:t.onScroll,expression:"onScroll",arg:t.immediate}],staticClass:"omi-load-more"},[i("div",{staticClass:"omi-list"},[t._t("default")],2),t._v(" "),i("div",{ref:"footer",staticClass:"omi-list__footer"},[t._t("load-more",(function(){return[t.finished?i("div",{staticClass:"omi-list__footer--status omi-list__finished"},[i("span",{staticClass:"omi-list__load--text"},[t._v(t._s(t.finishedText))])]):t._e(),t._v(" "),t.error?i("div",{staticClass:"omi-list__footer--status omi-list__error",on:{click:t.errorCallback}},[i("span",{staticClass:"omi-list__load--text"},[t._v(t._s(t.errorText))])]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"omi-list__footer--status omi-list__loading"},[i("Loading",{attrs:{size:t.loadingSize}}),t._v(" "),i("span",{staticClass:"omi-list__load--text"},[t._v(t._s(t.loadingText))])],1)]}))],2)])};Ze._withStripped=!0;var Je=s.default({render:Ze,staticRenderFns:[]},undefined,Ge,undefined,!1,undefined,void 0,void 0);Je.install=function(t){t.component(Je.name,Je)};var Qe,ti={props:{threshold:{type:Number,default:0},distance:{type:Number,default:0}},watch:{showIndex:{handler:function(t){this.$refs.loading&&this.$refs.loading.show(t)},immediate:!0}},computed:{showIndex:function(){var t=this.threshold,e=this.distance;return parseInt((e+1)/Math.round(t/12),10)}},render:function(){var t=arguments[0];return t("div",{class:"omi-pull-refresh__spinner"},[t(yt,{ref:"loading",attrs:{lazyShow:!0,spinner:!0}})])}},ei="reset",ii="pulling",ni="overThreshold",ri="losing",oi="refresh",si="done",ai={data:function(){return{status:ei}},methods:(Qe={},Qe.reset=function(){var t=this.status,e=this.isHolding,i=this.distance;ei!==t&&(this.status=ei),!e&&i>0&&this.restPostion(0)},Qe.pulling=function(t){this.status!==ii&&(this.status=ii),t&&this.reset()},Qe.overThreshold=function(){this.status=ni},Qe.losing=function(t,e){var i=this.status,n=this.threshold;i!==ei&&i!==si&&(i!==ri&&(this.status=ri,this.restPostion(n)),e&&this.$emit("input",!0))},Qe.refresh=function(){this.isReset&&this.restPostion(this.threshold),this.$emit("refresh"),this.status=si},Qe.done=function(){var t=this;this.showSuccess().then((function(){t.pulling(!0)}))},Qe),computed:{isReset:function(){return this.status===ei},isPulling:function(){return this.status===ii},isOverThreshold:function(){return this.status===ni},isLosing:function(){return this.status===ri},isDone:function(){return this.status===si},isRefreshing:function(){return this.refreshing}}},li=Math.round,ui={name:"OmiPullRefresh",mixins:[Be,ai],data:function(){return{distance:0,scroller:null,reachTop:!1,showSuccessTip:!1,animateDuration:this.duration}},model:{prop:"refreshing"},props:{headerPosition:{type:String,default:"",validator:function(t){return"top"===t||""===t}},headerHeight:{type:Number,default:84},disable:{type:Boolean,default:!1},refreshing:{type:Boolean,default:!1},threshold:{type:Number,default:84},duration:{type:Number,default:400},overThresholdText:{type:String,default:""},successText:{type:String,default:""},refreshingText:{type:String,default:""},losingText:{type:String,default:""},pullingText:{type:String,default:""},successDuration:{type:Number,default:400}},watch:{refreshing:function(t){t?this.invokeStatus(!0):this[this.status]()}},methods:{getDefaultTip:function(t){var e=this.$createElement;return e("div",{class:"omi-pull-refresh__loading"},[e(yt,{attrs:{spinner:!0}}),t])},showSuccess:function(){var t,e=this,i=new Promise((function(e){t=e}));return this.$nextTick((function(){var i=e.successText,n=e.successDuration;i||e.$slots.success?(e.showSuccessTip=!0,setTimeout((function(){t()}),n)):t()})),i},getPullingTip:function(){var t=this.$createElement,e=this.isPulling,i=this.$scopedSlots.pulling;return e?t("div",{class:"omi-pull-refresh__pulling"},[i&&i({distance:this.distance})||t(ti,{attrs:{distance:this.distance,threshold:this.threshold}}),this.pullingText]):null},getOverThresholdTip:function(){var t=this.$createElement;return this.isOverThreshold?t("div",{class:"omi-pull-refresh__over-threshold"},[this.$slots["over-threshold"]||this.getDefaultTip(this.overThresholdText)]):null},getRefreshTip:function(){var t=this.$createElement,e=this.refreshing,i=this.isLosing;return e||i?t("div",{class:"refresh__refreshing"},[this.$slots.refreshing||this.getDefaultTip(this.refreshingText)]):null},getSuccessTip:function(){var t=this.$createElement;return this.showSuccessTip?t("div",{class:"omi-pull-refresh__success"},[this.$slots.success||this.getDefaultTip(this.successText)]):null},getTips:function(){return(0,this.$createElement)("div",{class:"omi-pull-refresh__tip"},[this.getPullingTip(),this.getOverThresholdTip(),this.getRefreshTip(),this.getSuccessTip()])},getDistance:function(t){var e=this.threshold;if(t<e)return li(t);var i=t/e>=2;return li(e*(i?1.4:1)+(t-e*(i?2:1))*(i?.25:.4))},getStatus:function(t){var e=this.distance,i=this.threshold;return this.refreshing&&t?oi:0===e?ei:e<i?ii:t?ri:ni},invokeStatus:function(t){var e=this.getStatus(t);e&&this[e](t)},onTouchMove:function(t){if(this.reachTop&&!this.unClickable){this.touchMove(t);var e=this.direction,i=this.moveY;"vertical"!==e||i<0&&this.distance<=0||(ce(t),this.distance=Math.max(this.getDistance(i),0),this.invokeStatus(!1))}},onTouchStart:function(t){this.unClickable||(this.reachTop=0===de(this.scroller),this.reachTop&&(this.touchStart(t),this.animateDuration=0,this.isHolding=!0))},onTouchEnd:function(){this.unClickable||(this.isHolding=!1,this.reachTop&&this.invokeStatus(!0))},onTransitionEnd:function(){var t=this;this.losing(!0,!0),this.$nextTick((function(){t.showSuccessTip&&(t.showSuccessTip=!1)}))},restPostion:function(t){this.animateDuration=this.duration,this.distance=t},getHeader:function(){return(0,this.$createElement)("div",{class:this.headerClasses,style:this.headerStyle},[this.getTips()])}},computed:{headerClasses:function(){var t=["omi-pull-refresh__header"];return"top"===this.headerPosition&&t.push("omi-pull-refresh__header--top"),t},bodyStyles:function(){var t=this.distance,e=t?"translate3d(0, "+t+"px, 0)":null;return{"transition-duration":this.animateDuration+"ms",transform:e,"will-change":e?"transform":null}},headerStyle:function(){return"height: "+this.headerHeight+"px"},unClickable:function(){var t=this.isRefreshing,e=this.showSuccessTip,i=this.disable,n=this.isDone;return t||e||i||n}},mounted:function(){if(!this.scroller){this.scroller=he(this.$el);var t=this.$refs.body;le(this.$el,"touchstart",this.onTouchStart,!1),le(this.$el,"touchmove",this.onTouchMove,!1),le(this.$el,"touchend",this.onTouchEnd),le(t,"transitionend",this.onTransitionEnd),this.refreshing&&this.invokeStatus(!0)}},beforeDestroy:function(){var t=this.$refs.body;ue(this.$el,"touchstart",this.touchStart),ue(this.$el,"touchmove",this.onTouchMove),ue(this.$el,"touchend",this.onTouchEnd),ue(t,"transitionend",this.onTransitionEnd)},render:function(){var t=arguments[0],e="top"===this.headerPosition;return t("div",{class:"omi-pull-refresh"},[!e&&this.getHeader(),t("div",{ref:"body",class:"omi-pull-refresh__body",style:this.bodyStyles},[e&&this.getHeader(),this.$slots.default])])},install:function(t){t.component(ui.name,ui)}};const ci={name:"OmiBadge",props:{text:{type:[String,Number],default:""},dot:{type:Boolean,default:!1},maxNumber:{type:Number,default:99}},methods:{overFlow:function(t){return/^\d*$/.test(t)&&1*t>=this.maxNumber?"99+":t}}};var hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-badge"},[t.dot?i("sup",{staticClass:"omi-badge__dot"}):t.text?i("sup",{staticClass:"omi-badge__text"},[t._v(t._s(t.overFlow(t.text)))]):t._e(),t._v(" "),t._t("default")],2)};hi._withStripped=!0;var di=s.default({render:hi,staticRenderFns:[]},undefined,ci,undefined,!1,undefined,void 0,void 0);di.install=function(t){t.component(di.name,di)};var fi={data:function(){return{isMoving:!1,scoller:null,transformX:0,distance:0,isSwiping:!1}},watch:{shouldRender:function(t){t?this.bindTouchEvent():this.unBindTouchEvent()}},methods:{findValidChild:function(t,e){if(!this.children[t].disabled)return t;if(t>0&&t<this.children.length-1){var i=e?t+1:t-1;return this.findValidChild(i,e)}return-1},setTransform:function(t){var e=this.activeIndex,i=this.children;e<=0&&t>=0||e>=i.length-1&&t<=0||(this.isMoving||(this.isMoving=!0),this.distance=this.transformX+t)},findNextActive:function(t,e){var i=this;this.$nextTick((function(){var n=i.activeIndex,r=i.children,o=i.findValidChild,s=i.getPaneWidth(),a=n;e>=.2*s&&(t<0&&n<r.length-1?a=o(n+1):t>0&&n>0&&(a=o(n-1)),a!==n&&a>=0&&i.updateIndex(a))}))},onTouchStart:function(t){this.swipleable&&this.touchStart(t)},onTouchMove:function(t){this.swipleable&&(this.touchMove(t,5),this.inited||(this.inited=!0),this.isSwiping=!0,"horizontal"===this.direction||ce(t),this.setTransform(this.moveX))},onTouchEnd:function(){var t=this.moveX,e=this.offsetX;this.isMoving&&(this.findNextActive(t,e),this.isMoving=!1),this.isSwiping=!1,this.resetTouch()},bindTouchEvent:function(){var t=this;this.$nextTick((function(){t.swipleable&&!t.scoller&&(t.scoller=t.$refs.pane,t.scoller&&(le(t.scoller,"touchstart",t.onTouchStart),le(t.scoller,"touchmove",t.onTouchMove,!1),le(t.scoller,"touchend",t.onTouchEnd)))}))},unBindTouchEvent:function(){var t=this.scoller;t&&(ue(t,"touchstart",this.onTouchStart),ue(t,"touchmove",this.onTouchMove),ue(t,"touchstart",this.onTouchEnd),this.scoller=null)},getTransformString:function(t,e){var i=this.isSwiping?"transform":null,n="\n        transform: translate3d("+t+"px, 0, 0);\n        transition-property: "+e+";\n      ";return this.isSwiping&&(n+="will-change: "+i+";"),n},scrollPane:function(){var t=this;this.animated&&this.$nextTick((function(){var e=t.activeIndex,i=t.getPaneWidth();t.transformX=-e*i}))},getPaneWidth:function(){return this.$refs.pane?this.$refs.pane.offsetWidth:this.$el.offsetWidth}},computed:{animatedClass:function(){var t=this.animated,e=this.inited;return{"omi-tabs__animated":t&&e}},paneStyles:function(){var t=this.isMoving,e=this.distance,i=this.getTransformString,n=this.transformX,r=this.swipleable,o=this.animated;return t&&r?i(e,"none"):o?i(n,"transform"):null}},mounted:function(){this.bindTouchEvent()},beforeDestroy:function(){this.unBindTouchEvent()}},pi={name:"OmiTabs",provide:function(){return{tabsParent:this}},mixins:[Be,fi,{data:function(){return{lineOffset:0}},methods:{scrollBarToView:function(t){var e=this.scrollAble,i=this.activeIndex,n=this.$refs.label,r=n[i];if(e&&n.length&&r){var o=this.$refs.bar,s=r.offsetLeft,a=r.offsetWidth,l=o.scrollLeft;se(o,s-(o.offsetWidth-a)/2-l,t?this.titleScrollDuration:0)}},scrollLine:function(){var t=this.activeIndex,e=this.labels,i=this.$refs.label[t];i&&e.length&&!i.disalbed&&(this.lineOffset=100*t)}},computed:{lineClass:function(){return{"omi-tabs_bar--animated":this.inited}},labelRateWidth:function(){return 25..toFixed(5)},labelStyle:function(){return this.labels.length<=4?null:"flex-basis: "+this.labelRateWidth+"%;"},lineStyle:function(){return"\n        width:"+this.labelRateWidth+"%;\n        transform: translateX("+this.lineOffset+"%) translateZ(0)\n      "},scrollAble:function(){return this.labels.length>4},labels:function(){return this.children.filter((function(t){return null!==t.label}))}}},Et("tabsParent")],data:function(){return{activeKey:0,activeIndex:0,inited:!1}},components:{Badge:di},props:{titleScrollDuration:{type:Number,default:300},swipleable:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},value:{type:[String,Number],default:0}},watch:{swipleable:function(t){var e=this;t&&this.$nextTick((function(){e.bindTouchEvent()}))},value:function(t){var e=this;x(t)||(this.inited||(this.inited=!0),this.show(this.animated,(function(){var t=e.activeKey,i=e.activeIndex,n=e.labels;e.$emit("change",t,n[i].label)})))}},methods:{updateIndex:function(t){var e=this.getActiveChild(t).activeKey;this.$emit("input",e)},getActiveChild:function(t){var e=this.children[t];return this.getActiveChildInfo(e)},isActive:function(t){return{"omi-tabs__bar--active":t.tabName===this.activeKey}},onClick:function(t){var e=t.tabName,i=t.disalbed,n=t.label;i||(this.$emit("input",e),this.$emit("clickTab",e,n))},getChildIndex:function(t){return this.children.indexOf(t)},setActive:function(t){var e=t.activeKey,i=t.activeIndex;x(e)||x(i)||(this.activeKey=e,this.activeIndex=i)},getActiveChildInfo:function(t){return t?{activeIndex:t.getIndex,activeKey:t.tabName}:{}},getActive:function(){var t=this,e=this.children.filter((function(e){return e.tabName===t.value}))[0];return this.getActiveChildInfo(e)},show:function(t,e){var i=this;void 0===e&&(e=function(){}),this.$nextTick((function(){i.setActive(i.getActive()),i.scrollBarToView(t),i.scrollPane(),i.scrollLine(),e()}))}},mounted:function(){this.show(!1)}};const mi=pi;var vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-tabs"},[i("div",{staticClass:"omi-tabs__bar omi-border__bottom"},[i("div",{ref:"bar",staticClass:"omi-tabs__bar--list",attrs:{role:"tablist"}},[t._l(t.labels,(function(e){return i("div",{key:e.name,ref:"label",refInFor:!0,staticClass:"omi-tabs__bar--item",class:t.isActive(e),style:t.labelStyle,attrs:{role:"tab"},on:{click:function(){return t.onClick(e)}}},[i("badge",{attrs:{dot:e.dot,text:e.badgeText,maxNumber:e.badgeMaxNumber}},[i("span",[t._v(t._s(e.label))])])],1)})),t._v(" "),i("div",{staticClass:"omi-tabs__bar--line",class:t.lineClass,style:t.lineStyle})],2)]),t._v(" "),i("div",{staticClass:"omi-tabs__list"},[i("div",{ref:"pane",staticClass:"omi-tabs__list--inner",class:t.animatedClass,style:t.paneStyles},[t._t("default")],2)])])};vi._withStripped=!0;var gi=s.default({render:vi,staticRenderFns:[]},undefined,mi,undefined,!1,undefined,void 0,void 0);gi.install=function(t){t.component(gi.name,gi)};const yi={name:"OmiTabsPane",mixins:[kt("tabsParent")],props:{dot:{type:Boolean,default:!1},badgeText:{type:[String,Number],default:""},badgeMaxNumber:{type:Number,default:null},label:{type:String,default:""},name:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1}},computed:{show:function(){var t=this.parent,e=this.tabName;return!!t&&t.activeKey===e},panelStyle:function(){var t=this.parent;return!t||t.swipleable||t.animated||this.show?null:"display: none"},getIndex:function(){return this.parent?this.parent.children.indexOf(this):-1},tabName:function(){var t=this.name,e=this.getIndex;return null!==t?t:e}}};var _i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"omi-tabs-panel",style:t.panelStyle,attrs:{role:"tabpanel"}},[t._t("default")],2)};_i._withStripped=!0;var bi=s.default({render:_i,staticRenderFns:[]},undefined,yi,undefined,!1,undefined,void 0,void 0);bi.install=function(t){t.component(bi.name,bi)};var Ci={name:"OmiPickColums",mixins:[kt("omiPicker"),Be],data:function(){return{currentIndex:0,currentDuration:0,startDate:0,startTransformY:0,transformY:0,fingerStartY:0,bindedEvent:!1,isMoving:!1,afterTransition:[],transitionPayload:{duration:0,property:"none"},inited:!1}},props:{duration:{type:Number,default:800},itemHeight:{type:Number,default:42},defaultIndex:{type:Number,default:0},data:{type:Array,default:function(){return[]}}},watch:{data:function(){var t=this.defaultIndex;this.scrollTo(null,this.getValidDefaultIndex(t))},defaultIndex:function(t){this.isMoving||this.scrollTo(null,this.getValidDefaultIndex(t))}},methods:{getActiveValue:function(){var t=this.data,e=this.currentIndex;return t[e]?{label:t[e].label,value:t[e].value}:{}},setActiveValue:function(t){var e=this;return new Promise((function(i){e.$nextTick((function(){for(var n=-1,r=0;r<e.dataLength;r++)if(e.data[r].value===t){n=r;break}-1!==n?e.scrollTo(null,n,i):i()}))}))},setActiveIndex:function(t){this.currentIndex=t},onClickItem:function(t){this.scrollTo(null,t)},getItemClasses:function(t){var e=["omi-picker-colum__list--item"];return t===this.currentIndex&&e.push("omi-picker-colum__list--active"),e},getItemStyle:function(t){var e=this.itemHeight,i=this.transformY,n=this.isMoving;return{height:e+"px",transform:"rotateX("+((0,Math.abs)(i)-t*e)/e*25+"deg)","will-change":n?"transform":null}},getValidDefaultIndex:function(t){return x(this.data[t])?0:t},getListItem:function(){var t=this.$createElement,e=this.getItemClasses,i=this.getItemStyle,n=this.onClickItem;return this.data.map((function(r,o){return t("li",{on:{click:function(){return n(o)}},style:i(o),attrs:{role:"button"},class:e(o),key:r.uid},[r.label])}))},onTouchStart:function(t){if(this.touchStart(t),this.isMoving){var e=(i=this.$refs.list,n=window.getComputedStyle(i,null).getPropertyValue("transform"),1*(n=/[\S\s]*\((.+?)\)/.exec(n)[1].split(","))[n.length-1]);this.startTransformY=e-this.basePosition}else this.startTransformY=this.transformY;var i,n;this.startDate=Date.now(),this.fingerStartY=this.startTransformY,this.resetStatus()},onTouchMove:function(t){this.touchMove(t);var e=this.direction,i=this.moveY;"vertical"===e&&(ce(t),this.isMoving=!0),this.setTransform(i);var n=Date.now();n-this.startDate>300&&(this.startDate=n,this.fingerStartY=this.transformY)},onTouchEnd:function(){var t=Date.now()-this.startDate,e=this.transformY-this.fingerStartY;if(t<300&&Math.abs(e)>=15){var i=e/t*.3*this.duration,n=this.transformY+i;this.scrollTo(-n)}else this.isMoving&&this.scrollTo(-this.transformY)},setTransform:function(t){var e=this.startTransformY,i=this.itemHeight,n=this.dataLength,r=e+t;this.transformY=S(r,i,-n*i)},resetStatus:function(){this.isMoving=!1,this.inited||(this.inited=!0),this.afterTransition=[],this.setTransition()},onTransitionEnd:function(){this.flushCallBack(),this.resetStatus()},flushCallBack:function(){for(;this.afterTransition.length;){var t=this.afterTransition.pop();t&&t()}},setTransition:function(t,e){void 0===t&&(t=0),void 0===e&&(e="none"),this.transitionPayload={duration:t,property:e}},scrollCallBack:function(t){this.currentIndex!==t&&this.setActiveIndex(t),this.$emit("change")},scrollTo:function(t,e,i){var n=this;void 0===e&&(e=null),void 0===i&&(i=null);var r=this.itemHeight,o=this.getValidIndex,s=this.isMoving,a=e;null===e&&(a=o(t/r));var l=a*r;this.inited&&(this.setTransition(this.duration,"all"),this.isMoving||(this.isMoving=!0)),this.transformY=-l;var u=function(){n.scrollCallBack(a),f(i)&&i()};if(!this.inited||f(i))return this.onTransitionEnd(),this.setActiveIndex(a),void u();s||a!==this.currentIndex?(this.afterTransition.length&&this.flushCallBack(),this.afterTransition.push(u)):(this.onTransitionEnd(),this.setActiveIndex(a))},getValidIndex:function(t){return S(Math.round(t),this.dataLength-1,0)},bindTouchEvent:function(t,e){var i=this.$refs.list,n=this.$el;t(n,"touchstart",this.onTouchStart),t(n,"touchmove",this.onTouchMove,!1),t(n,"touchend",this.onTouchEnd),t(i,"transitionend",this.onTransitionEnd),this.bindedEvent=e}},computed:{dataLength:function(){return this.data.length},wrapperStyles:function(){return"height: "+5*this.itemHeight+"px"},basePosition:function(){return 4*this.itemHeight/2},ListStyles:function(){var t=this.basePosition,e=this.transformY,i=this.transitionPayload,n=this.isMoving;return{transform:"translate3d(0, "+(t+e)+"px, 0)","transition-duration":i.duration+"ms","transition-property":""+i.property,"will-change":n?"transform":null}}},mounted:function(){var t=this;this.$nextTick((function(){t.bindedEvent||t.bindTouchEvent(le,!0);var e=t.getValidDefaultIndex(t.defaultIndex);e!==t.currentIndex?t.scrollTo(null,e):t.inited=!0}))},beforeUpdate:function(){this.inited||(this.inited=!0)},beforeDestroy:function(){this.bindedEvent&&this.bindTouchEvent(ue,!1)},render:function(){var t=arguments[0];return t("div",{class:"omi-picker-colum",ref:"wrapper",style:this.wrapperStyles},[t("ul",{class:"omi-picker-colum__list",style:this.ListStyles,ref:"list"},[this.getListItem()])])}},xi=["uid"];function Si(){return Si=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Si.apply(this,arguments)}var wi=function(){var t=0;return function(e,i){return i&&(t=0),e+"-"+(t+=1)}}(),Ti={name:"OmiPicker",mixins:[Et("omiPicker")],data:function(){return{colums:[],isSetting:!1}},props:{title:{type:String,default:""},confirmText:{type:String,default:""},cancelText:{type:String,default:""},itemHeight:{type:Number,default:42},duration:{type:Number,default:800},cascade:{type:Boolean,default:!1},data:{type:Array,default:function(){return[]}},valueKey:{type:String,default:""},labelKey:{type:String,default:""},defaultIndex:{type:[Array,Number],default:function(){return[0]},validator:function(t){return!h(t)||t.every((function(t){return C(1*t)}))}},onConfirm:{type:Function,default:function(){}},onCancel:{type:Function,default:function(){}}},watch:{data:{handler:function(t){this.flattenData(t)},immediate:!0}},methods:{formateColumPayload:function(t,e){var i=this.valueKey,n=this.labelKey;return{data:t.children.map((function(t){return{label:t[n]||t.label||null,value:t[i]||t.value||null,uid:t.key||wi("colum-"+e)}})),defaultIndex:this.getDefaultIndex(t,e),uid:"colum-"+e}},getActiveIndexs:function(){return this.children.map((function(t){return t.currentIndex}))},getDefaultIndex:function(t,e){var i=this.defaultIndex,n=h(i)?i[e]:i;return t.defaultIndex||n||0},formatCascade:function(){for(var t=this.formateColumPayload,e=0,i=[],n={children:this.data};n&&h(n.children);){var r=t(n,e);i.push(r);var o=n.children,s=r.defaultIndex;n=x(o[s])?o[0]:o[s],e+=1}return i},formatColum:function(){var t=this.data,e=this.formateColumPayload;return t.map((function(t,i){return e({children:t},i)}))},flattenData:function(){this.cascade?this.colums=this.formatCascade():this.colums=this.formatColum()},updateCascade:function(t){for(var e=this.data,i=(0,this.getActiveIndexs)(),n=0,r={children:e};n<=t&&h(r.children);)r=r.children[i[n]],n+=1;for(;r&&h(r.children);){var o=this.getDefaultIndex(r,n);this.updateData(r,n),r=r.children[o],n+=1}},onChange:function(t){var e=this;this.cascade&&this.updateCascade(t),this.$nextTick((function(){e.$nextTick((function(){if(!e.isSetting){var i=e.getValues().map((function(t){return t.uid,Si({},function(t,e){if(null==t)return{};var i,n,r={},o=Object.keys(t);for(n=0;n<o.length;n++)i=o[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,xi))}));e.$emit("change",i,t)}}))}))},getColums:function(){var t=this,e=this.$createElement;return this.colums.map((function(i,n){var r;return e(Ci,{attrs:(r={data:i.data,defaultIndex:i.defaultIndex,className:i.className,duration:t.duration},r.duration=t.duration,r.itemHeight=t.itemHeight,r),key:i.uid,on:{change:function(){return t.onChange(n)}}})}))},updateData:function(t,e){var i=this;this.$nextTick((function(){var n=i.formateColumPayload(t,e);i.colums.splice(e,1,n)}))},updateColum:function(t,e){var i=this;if(void 0===e&&(e=0),!h(t))throw new Error("[omi]:colum should be an array");var n={children:t};this.updateData(n,e),this.$nextTick((function(){i.cascade&&i.updateCascade(e)}))},getValues:function(){return this.children.map((function(t){return t.getActiveValue()}))},setValues:function(t,e){var i=this;this.$nextTick((function(){var n=i.children;h(t)?t.reduce((function(t,e,r){return t.then((function(){return i.isSetting||(i.isSetting=!0),n[r].setActiveValue(e)}))}),Promise.resolve()).then((function(){i.isSetting=!1})):C(e)&&n[e].setActiveValue(t)}))},isScrolling:function(){return this.isMoving},getHeader:function(){var t=this.$createElement,e=this.confirmText,i=this.cancelText,n=this.title;return x(e)&&x(i)&&x(n)?null:t("div",{class:"omi-picker__header"},[i&&t("div",{class:"omi-picker__cancel",on:{click:this.handleCancel}},[this.cancelText]),n&&t("div",{class:"omi-picker__title"},[n]),e&&t("div",{class:"omi-picker__confirm",on:{click:this.handleConfirm}},[this.confirmText])])},handleConfirm:function(){this.onConfirm()},handleCancel:function(){this.onCancel()}},computed:{maskStyles:function(){var t=this.itemHeight;return"background-size: 100% "+(5*t-t)/2+"px"},cursorStyles:function(){return"height: "+this.itemHeight+"px"},isMoving:function(){return this.children.some((function(t){return t.isMoving}))}},render:function(){var t=arguments[0];return t("div",{class:"omi-picker"},[this.getHeader(),t("div",{class:"omi-picker-colums__wrapper"},[this.getColums(),t("div",{class:"omi-picker-colums__mask",style:this.maskStyles}),t("div",{class:"omi-picker-colums__cursor omi-picker-border__top-bottom",style:this.cursorStyles})])])},install:function(t){t.component(Ti.name,Ti)}},$i="province",ki="city",Ii="area",Oi=Object.prototype.hasOwnProperty;function Pi(t,e,i,n,r,o){return void 0===o&&(o=!1),x(t)?[]:Object.keys(t).map((function(s,a){var l=t[s],u=function(t){var e,i=""+t;if(i.length<6)for(var n=6-i.length-1,r=0;r<=n;r++)i+="0";var o=/^(\d{2})(\d{2})(\d{2})$/.exec(i),s=o[0],a=o.slice(1),l=a[0],u=a[1],c=a[2];return(e={}).province=l,e.city=u,e.area=c,e.originCode=s,e}(s);if(i&&!Oi.call(i,u[e])){var c=n?""+u[n]+u[e]:""+u[e];i[c]=a}var h={label:l,value:s,parentCode:u[n],selfCode:u[e],originCode:u.originCode};return o||(h.children=[]),f(r)?r(h,u):h}))}function Bi(){return Bi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Bi.apply(this,arguments)}var Ei={name:"OmiAddressPicker",data:function(){return{address:[]}},props:{defaultIndex:{type:Number,default:0},data:{type:Object,default:null},title:{type:String,default:""},confirmText:{type:String,default:""},cancelText:{type:String,default:""},onConfirm:{type:Function,default:function(){}},onCancel:{type:Function,default:function(){}}},watch:{data:{handler:function(){this.formateData()},immediate:!0}},methods:{onChange:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.$emit.apply(this,["change"].concat(e))},formateData:function(){if(this.data){var t={},e={},i=this.data,n=i.provinceList,r=i.cityList,o=i.areaList,s=Pi(n,$i,t,null,null,x(r)),a=Pi(r,ki,e,$i,null,x(o));Pi(o,Ii,null,ki,(function(t,i){var n=i.province,r=i.city,o=i.area,s=e[""+n+r];x(s)?(a.push(t),e[o]=a.length-1):a[s].children.push(t)}),!0),a.forEach((function(e){var i=e.parentCode,n=e.selfCode,r=t[i];if(x(r)||x(s[r])||x(s[r].children))if(1*i>=90){var o=t[90];s[o].children.push(e)}else s.push(e),t[n]=s.length-1;else s[r].children.push(e)})),this.address=s}},getValues:function(){return this.$refs.picker.getValues().map((function(t){return{label:t.label,value:t.value}}))},isScrolling:function(){return this.$refs.picker.isScrolling()}},render:function(){var t=this,e=arguments[0];return e(Ti,{attrs:{cascade:!0,data:this.address,title:this.title,confirmText:this.confirmText,cancelText:this.cancelText,defaultIndex:this.defaultIndex},ref:"picker",on:{change:this.onChange},props:Bi({},{onConfirm:function(){return t.onConfirm()},onCancel:function(){return t.onCancel()}})})},install:function(t){t.component(Ei.name,Ei)}},Ai="date",Di="year",Mi="month",zi="time",Li="datetime",Ni=new Date,Fi=Ni.getFullYear()+10,Ri=Ni.getFullYear()-10,Vi={type:{type:String,default:"date",validator:function(t){return d(t,[Ai,Di,Mi,zi,Li])}},currentDate:{type:Date,default:function(){return Ni},validator:function(t){return _(t)}},max:{type:Date,default:function(){return new Date(Fi,11,31,23,59)},validator:function(t){return _(t)}},min:{type:Date,default:function(){return new Date(Ri,0,1,0,0)},validator:function(t){return _(t)}},filter:{type:Function,default:function(t,e){return e}},formatter:{type:Function,default:function(t,e){return e}}};function ji(t,e){return 32-new Date(t,e,32).getDate()}function Wi(t){return _(t)?{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}:t}function Hi(){return Hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Hi.apply(this,arguments)}var Yi,Xi={inheritAttrs:!1,data:function(){return{pickerDate:this.getValidateDate(this.currentDate)}},props:Hi({},Vi),watch:{currentDate:function(t){this.pickerDate=this.getValidateDate(t)},pickerDate:function(){this.setActiveValue()}},methods:{getPicker:function(){return this.$refs.datePicker},getValues:function(){return this.$refs.datePicker.getValues()},setActiveValue:function(t,e){void 0===t&&(t=null);var i=t;if(x(t)){var n=this.pickerDate,r=this.pickerType,o=Wi(n);i=r.map((function(t){var e=""+o[t];return e=e<10?"0"+e:e}))}this.$refs.datePicker.setValues(i,e)},onChange:function(t,e){var i=this;this.needUpdate&&this.updateColums(t),this.$nextTick((function(){i.$emit("change",t,e)}))},getValidateDate:function(t){var e=this.type,i=this.min,n=this.max;if(e===zi){var r=Wi(t),o=r.year,s=r.month,a=r.date,l=r.hour,u=r.minute,c=Wi(n),h=c.hour,d=c.minute,f=Wi(i),p=f.hour,m=f.minute,v=S(l,h,p),g=u;return l===h&&(g=u>d?d:u),l===p&&(g=u<m?m:u),new Date(o,s,a,v,g)}return new Date(S(t,n,i))}},computed:{needUpdate:function(){var t=this.updateColums,e=this.type;return f(t)&&e!==Mi&&e!==Di},colums:function(){var t=this,e=this.pickerType,i=this.rangMap;return e.map((function(e){var n=function(t){for(var e=t[0],i=[],n=t[1];n<=e;n++){var r=""+n;n<10&&(r="0"+n),i.push(r)}return i}(i[e]);return n=(n=t.filter(e,n)||n).map((function(i){return{label:t.formatter(e,i),value:i,key:i}}))}))},listeners:function(){var t=this.onChange;return Hi({},this.$listeners,{change:t})}},mounted:function(){this.setActiveValue()},render:function(){var t=arguments[0],e={props:this.$attrs,on:this.listeners};return t(Ti,l.default([{ref:"datePicker",attrs:{data:this.colums}},e]))}};function qi(t,e,i){return qi=Ki()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&Ui(r,i.prototype),r},qi.apply(null,arguments)}function Ki(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ui(t,e){return Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ui(t,e)}var Gi={month:12,hour:23,minute:59,date:null},Zi={month:1,hour:0,minute:0,date:1},Ji=((Yi={}).year=["year"],Yi.month=["month"],Yi.date=["year","month","date"],Yi.datetime=["year","month","date","hour","minute"],Yi),Qi={name:"OmiDateTimePicker",mixins:[Xi],methods:{getDateRange:function(t,e){var i,n=this[t],r="max"===t?Gi:Zi,o=e.getFullYear(),s=e.getMonth(),a=n.getFullYear(),l=r.month,u=r.hour,c=r.minute,h=r.date?r.date:ji(o,s);return o===a&&s===(l=n.getMonth()+1)-1&&(h=n.getDate(),e.getDate()===h&&(u=n.getHours(),e.getHours()===u&&(c=n.getMinutes()))),(i={})[t+"Year"]=a,i[t+"Month"]=l,i[t+"Date"]=h,i[t+"Hour"]=u,i[t+"Minute"]=c,i},updateColums:function(t){for(var e,i,n=this.pickerType,r=0,o=[];r<n.length;){var s=t[r].value;if("year"===n[r]&&(e=s),"month"===n[r]&&(i=s-=1),"date"===n[r]){var a=e&&i?ji(e,i):s;s=s>a?a:s}o.push(parseInt(s,10)),r+=1}this.pickerDate=this.getValidateDate(qi(Date,o))}},computed:{pickerType:function(){var t=this.type;return Ji[t]},rangMap:function(){var t=this.getDateRange,e=this.pickerDate,i=t("max",e),n=i.maxYear,r=i.maxMonth,o=i.maxDate,s=i.maxHour,a=i.maxMinute,l=t("min",e),u=l.minYear,c=l.minMonth,h=l.minDate;return{year:[n,u],month:[r,c],hour:[s,l.minHour],date:[o,h],minute:[a,l.minMinute]}}}};function tn(t,e,i){return tn=en()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&nn(r,i.prototype),r},tn.apply(null,arguments)}function en(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function nn(t,e){return nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nn(t,e)}var rn={name:"OmiTimePicker",mixins:[Xi],methods:{updateColums:function(t){for(var e=this.pickerType,i=this.pickerDate,n=0,r=[];n<e.length;){var o=t[n].value;r.push(parseInt(o,10)),n+=1}var s=Wi(i),a=s.year,l=s.month,u=s.date;this.pickerDate=this.getValidateDate(tn(Date,[a,l,u].concat(r)))},getDateRange:function(t,e){var i,n=this[t],r=Wi(e).hour,o=n.getHours(),s="max"===t?59:0;return n.getHours()===r&&(s=n.getMinutes()),(i={})[t+"Hour"]=o,i[t+"Minute"]=s,i}},computed:{pickerType:function(){return["hour","minute"]},rangMap:function(){var t=this.getDateRange,e=this.pickerDate,i=t("max",e),n=i.maxHour,r=i.maxMinute,o=t("min",e);return{hour:[n,o.minHour],minute:[r,o.minMinute]}}}};function on(){return on=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},on.apply(this,arguments)}var sn={name:"OmiDatePicker",inheritAttrs:!1,props:on({},Vi),methods:{getValues:function(){return this.$refs.picker.getPicker().getValues()},setValues:function(t,e){return void 0===t&&(t=null),this.$refs.picker.setActiveValue(t,e)},isScrolling:function(){return this.$refs.picker.getPicker().isScrolling()}},render:function(){var t=arguments[0],e=this.type!==zi?Qi:rn,i={props:this.$props,attrs:this.$attrs,on:this.$listeners};return t(e,l.default([{ref:"picker"},i]))}};function an(){return an=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},an.apply(this,arguments)}sn.install=function(t){t.component(sn.name,sn)};const ln={name:"OmiSearch",components:{Icon:E},data:function(){return{inited:!1,focused:!1,cancelStyles:{margin:"-999px"},placeholderStyles:{},cancelWidth:0}},mixins:[at],props:{disabled:{type:Boolean,default:!1},value:{type:String,default:""},cancelText:{type:String,default:"cancel"},placeholder:{type:String,default:""},fixedCancel:{type:Boolean,default:!1}},watch:{showCancel:{handler:function(){this.setFocusStyle()},immediate:!0}},methods:{setFocusStyle:function(){var t=this;this.$nextTick((function(){t.setCancelStyle();var e=0;if(t.showCancel){var i=t.$el.offsetWidth,n=t.$refs.placeholder,r=t.cancelWidth?t.cancelWidth:t.getCancelWidth();e=-(0,Math.floor)(i/2-n.offsetWidth/2-r/2)}t.placeholderStyles={transform:"translate3d("+e+"px,0,0)"},setTimeout((function(){t.inited=!0}),16)}))},onCancel:function(){this.$emit("input",""),this.$emit("cancel"),this.$refs.input.blur()},onClear:function(){this.$emit("input",""),this.$emit("clear"),this.$refs.input.focus()},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onInputBlur:function(t){this.focused=!1,this.onBlur(t)},getCancelWidth:function(){return this.$refs.cancel.offsetWidth},setCancelStyle:function(){var t=this;this.$nextTick((function(){if(t.showCancel||t.fixedCancel)t.cancelStyles={margin:0};else{var e=t.getCancelWidth();t.cancelWidth=e,t.cancelStyles={margin:"-"+e+"px"}}}))},initial:function(){var t=this.fixedCancel?0:"-999px";this.cancelStyles={margin:t}}},computed:{showCancel:function(){return this.focused||this.showClear||this.fixedCancel},showClear:function(){return""!==this.value},showPlaceholder:function(){return!this.showClear&&!this.isComposing},innerClasses:function(){return{"omi-search__focused":this.showCancel,"omi-search__animation":this.inited}},cancelClasses:function(){return{"omi-search__cancel--show":this.showCancel}},inputListeners:function(){return an({},this.listeners,{blur:this.onInputBlur})},placeholderTextStyle:function(){return{opacity:this.showPlaceholder?1:0}},inputStyle:function(){return{width:this.focused?null:"100%"}}},beforeMount:function(){},mounted:function(){this.setCancelStyle()}};var un=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-search omi-search__wrapper"},[i("div",{staticClass:"omi-search__inner",class:t.innerClasses},[i("div",{staticClass:"omi-search__input--wrapper"},[i("div",{staticClass:"omi-search__placeholder",style:t.placeholderStyles},[i("div",{ref:"placeholder",staticClass:"omi-search__placeholder--wrapper"},[i("div",{staticClass:"omi-search__search--icon"},[t._t("search-icon",(function(){return[i("Icon",{attrs:{type:"search"}})]}))],2),t._v(" "),i("div",{staticClass:"omi-search__placeholder--text",style:t.placeholderTextStyle},[i("span",[t._v(t._s(t.placeholder))])])])]),t._v(" "),i("div",{staticClass:"omi-search__content"},[i("input",t._g(t._b({ref:"input",staticClass:"omi-input__inner omi-search__input",attrs:{type:"search",disabled:t.disabled},domProps:{value:t.value}},"input",t.$attrs,!1),t.inputListeners))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showClear,expression:"showClear"}],staticClass:"omi-search__clear",on:{click:t.onClear}},[i("div",{staticClass:"omi-search__clear--btn"},[t._t("clear-icon",(function(){return[i("Icon",{attrs:{type:"close",size:13}})]}))],2)])]),t._v(" "),i("div",{ref:"cancel",staticClass:"omi-search__cancel",class:t.cancelClasses,style:t.cancelStyles,on:{click:t.onCancel}},[i("div",[t._v(t._s(t.cancelText))])])])])};un._withStripped=!0;var cn=s.default({render:un,staticRenderFns:[]},undefined,ln,undefined,!1,undefined,void 0,void 0);cn.install=function(t){t.component(cn.name,cn)};var hn={name:"OmiRate",model:{prop:"score"},props:{voidColor:{type:String,default:"#ddd"},fillColor:{type:String,default:"#ffbb2a"},size:{type:Number,default:24},total:{type:Number,default:5},score:{type:Number,default:0},readonly:{type:Boolean,default:!1},halfRate:{type:Boolean,default:!1}},methods:{onClick:function(t,e){if(!this.readonly){var i=t;this.halfRate&&(i=this.isOverHald(e)?t:t-.5),this.$emit("input",i),i!==this.score&&this.$emit("change",i)}},isOverHald:function(t){var e=t.target.clientWidth;return t.offsetX>=e/2},getKey:function(t){return Date.now()+"_"+t},getWidth:function(t){var e,i=this.score;return t<i&&(e="100%"),t===Math.ceil(i)&&(e=this.figureHalf(i)),e},figureHalf:function(t){var e=Math.floor(t);return Math.ceil(t)===t?"100%":100*(t-e)+"%"},innerStyles:function(t){var e=0;return Math.ceil(this.score)>=t&&(e=this.getWidth(t)),{"font-size":this.size+"px",color:this.fillColor,width:""+e}}},computed:{itemStyles:function(){return{"font-size":this.size+"px",color:this.voidColor}},getInnerClass:function(){return["omi-rate__item--inner","omi-icon-font","omi-collection_fill"]}}};const dn=hn;var fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-rate"},t._l(parseInt(t.total),(function(e){return i("span",{key:t.getKey(e),staticClass:"omi-rate__wrapper"},[i("i",{staticClass:"omi-rate__item--wrapper omi-icon-font omi-collection_fill",style:t.itemStyles,on:{click:function(i){return i.stopPropagation(),t.onClick(e,i)}}},[i("i",{class:t.getInnerClass,style:t.innerStyles(e)})])])})),0)};fn._withStripped=!0;var pn=s.default({render:fn,staticRenderFns:[]},undefined,dn,undefined,!1,undefined,void 0,void 0);pn.install=function(t){t.component(pn.name,pn)};var mn=function(t){return!0===t},vn=function(t){return{mixins:[fi],data:function(){return{activeIndex:0,swiperWidth:0,children:[],inited:!1}},watch:{activeIndex:function(){this.scrollPane()},shouldRender:function(t){t&&this.initializeSwipe()}},props:{swipleable:{type:Boolean,default:!0,validator:mn},animated:{type:Boolean,default:!0,validator:mn},initialIndex:{type:Number,default:0}},methods:{initializeSwipe:function(){this.setSwiperWidth(),this.activeIndex=this.initialIndex,this.inited=!1,this.scrollPane()},getPaneWidth:function(){return this.swiperWidth||this.$el.offsetWidth},updateIndex:function(t){this.activeIndex!==t&&(this.activeIndex=t,this.$emit("change",t))},getScrollerClasses:function(t){var e;return(e={"omi-swipe__content--wrapper":!0})[t+"--wrapper"]=!x(t),e["omi-swipe__animated"]=this.inited,e},getSwipeBody:function(t){var e=this,i=this.$createElement;return function(n){return i("div",{class:["omi-swipe__body",t],ref:"pane"},[i("div",{class:e.getScrollerClasses(t),style:e.swipeBodyStyles},[n("omi-swipe__item",e.itemStyle)])])}},setSwiperWidth:function(){var t=this;this.$nextTick((function(){t.swiperWidth=t.$el.offsetWidth}))}},computed:{listLength:function(){return h(this[t])?this[t].length:0},itemStyle:function(){return"width: "+this.swiperWidth+"px"},swipeBodyStyles:function(){var t=this.paneStyles;return"width: "+this.swiperWidth*this.listLength+"px; "+t}},mounted:function(){this.initializeSwipe()}}};function gn(){return gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},gn.apply(this,arguments)}var yn=function(t){if(x(t))return null;var e=String(t);return e=function(t){return/^\d*$/.test(t)}(e)?e+"px":e,e},_n={name:"OmiImage",data:function(){return{binded:!1,loaded:!1,error:!1}},props:{placeholderWidth:{type:[String,Number],default:"100%"},placeholderHeight:{type:[String,Number],default:"50px"},height:{type:[String,Number],default:null},width:{type:[String,Number],default:null},lazyLoad:{type:Boolean,default:!1},src:{type:String,default:""},iconSize:{type:Number,default:24}},methods:{isSameNode:function(t){return t===this.$refs.img},onLoad:function(){this.loaded=!0,this.$emit("loaded",this.$refs.img)},onError:function(){this.loaded=!0,this.error=!0,this.$emit("error",this.$refs.img)},getImage:function(){var t=this.$createElement,e=this.src,i={attrs:this.$attrs};return this.lazyLoad?t("img",l.default([{class:"omi-image__img",ref:"img",directives:[{name:"lazy",value:e}]},i])):t("img",l.default([{class:"omi-image__img",attrs:{src:e},ref:"img",on:{load:this.onLoad,error:this.onError}},i]))},getPlaceholder:function(){var t=this.$createElement;return this.loaded?this.error?t("div",{class:"omi-image__placeholder",key:"omiImagePlaceholder"},[this.$slots.error||t("div",{class:"omi-image__error omi-icon__wrapper"},[t(E,{attrs:{size:this.iconSize,type:"prompt"}})])]):null:t("div",{class:"omi-image__placeholder",key:"omiImagePlaceholder"},[this.$slots.loading||t("div",{class:"omi-image__loading omi-icon__wrapper"},[t(yt,{attrs:{size:this.iconSize,spinner:!0}})])])},onLazyLoaded:function(t){var e=t.el;this.isSameNode(e)&&!this.loaded&&(this.loaded=!0)},onLazyError:function(t){var e=t.el;this.isSameNode(e)&&!this.error&&(this.error=!0)},bindLazyLoad:function(){var t=this.$Lazyload;t&&!this.binded&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyError),this.binded=!0)},unbindLazyLoad:function(){var t=this.$Lazyload;t&&this.binded&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyError),this.binded=!1)}},computed:{showPlaceholder:function(){return this.error||!this.loaded},wrapperStyles:function(){var t=yn(this.width),e=yn(this.height),i=yn(this.placeholderHeight),n=yn(this.placeholderWidth);return{width:this.showPlaceholder?n:t,height:this.showPlaceholder?i:e}}},mounted:function(){this.bindLazyLoad()},beforeDestroy:function(){this.unbindLazyLoad()},render:function(){var t=arguments[0];return t("div",{class:"omi-image",style:this.wrapperStyles,on:gn({},this.$listeners)},[this.getImage(),this.getPlaceholder()])},install:function(t){t.component(_n.name,_n)}},bn={images:{type:Array,default:function(){return[]}},value:{type:Boolean,default:!1},onClose:{type:Function,default:w},initialIndex:{type:Number,default:0},overlayClassName:{type:String,default:"omi-image-preview__overlay"},showClose:{type:Boolean,default:!1},placeholderHeight:{type:[String,Number],default:"150px"}};function Cn(){return Cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Cn.apply(this,arguments)}var xn={name:"OmiImagePreview",inheritAttrs:!1,mixins:[Ne(),vn("images")],props:Cn({},bn),methods:{beforeClose:function(){var t=this,e=this.onClose,i=e.apply(void 0,arguments);b(i)?i.then((function(){return t.close()})):this.close()},onClick:function(t){if("close"===t||!this.showClose){var e=this.activeIndex;this.beforeClose(e)}},getSlot:function(t){return x(this.$scopedSlots)||x(this.$scopedSlots[t])?null:this.$scopedSlots[t]},getHeader:function(){var t=this,e=this.$createElement,i=this.getSlot("header");return x(i)?this.showClose?e("div",{class:"omi-image-preview__header"},[e("div",{class:"omi-image-preview__close",on:{click:function(){return t.onClick("close")}}},[e(E,{attrs:{type:"close",size:22}})])]):null:e("div",{class:"omi-image-preview__header"},[i(this.activeIndex)])},getBody:function(){var t,e=this,i=this.$createElement,n=this.getSwipeBody("omi-imgae-preview__body"),r={attrs:this.$attrs,props:{placeholderHeight:this.placeholderHeight}};return n((function(n,o){return t=e.images.map((function(t){return i("div",{class:[n,"omi-image-preview__item"],style:o},[!x(t)&&g(t)&&i(_n,l.default([{class:"omi-image-preview__img",attrs:{src:t}},r]))])})),e.children=t,t}))},getFooter:function(){var t=this.$createElement,e=this.listLength,i=this.activeIndex+1+" / "+e,n=this.getSlot("indicator");return t("div",{class:"omi-image-preview__footer"},n?[n(this.activeIndex)]:[t("span",{class:"omi-image-preview__indicator"},[i])])}},computed:{wrapperStyles:function(){return{zIndex:this.getZindex+1}}},render:function(){var t=this,e=arguments[0];return this.shouldRender?e("transition",{attrs:{name:"fade-in",appear:!0}},[e("div",{class:"omi-image-preview",directives:[{name:"show",value:this.value}],style:this.wrapperStyles,on:{click:function(){return t.onClick()}}},[this.getHeader(),this.getBody(),this.getFooter()])]):null}};function Sn(){return Sn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Sn.apply(this,arguments)}var wn=me({VueComponent:xn,defaultOption:{images:[],value:!1,onClose:function(){}},banMultiple:!0})((function(t,e){return function(i){if(T)return w;if(i&&!v(i))throw new Error("[omi ui]: Expected Object with option");var n=t(),r=Sn({},e,i);return Object.assign(n,r),n.value=!0,n}}));wn.Component=xn;var Tn=wn;Tn.install=function(t){t.prototype.$imagePreview=Tn,t.component(Tn.Component.name,Tn.Component)};const $n={name:"OmiTabBar",mixins:[Et("omiTabBar")],props:{value:{type:[String,Number],default:0},iconSize:{type:Number,default:null},activeColor:{type:String,default:null},zIndex:{type:Number,default:null}},methods:{getCildIndex:function(t){return this.children.indexOf(t)},setActive:function(t){this.$emit("input",t),this.$emit("change",t)},isActiveItem:function(t){return t===this.value}},computed:{styles:function(){return{zIndex:this.zIndex}}}};var kn=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"omi-tabbar",style:t.styles},[t._t("default")],2)};kn._withStripped=!0;var In=s.default({render:kn,staticRenderFns:[]},undefined,$n,undefined,!1,undefined,void 0,void 0);In.install=function(t){t.component(In.name,In)};const On={name:"OmiTabBarItem",mixins:[kt("omiTabBar")],inheritAttrs:!1,components:{RouteButton:K,Icon:E,Badge:di},methods:{onClick:function(){this.parent.setActive(this.activeKey)},getParentProps:function(t){return this.parent&&this.parent[t]}},props:{name:{type:String,default:null},dot:{type:Boolean,default:!1},dotMaxNumber:{type:Number,default:null},dotText:{type:String,default:""},iconType:{type:String,default:""},iconSize:{type:Number,default:null},activeColor:{type:String,default:null}},computed:{itemStyles:function(){return{color:this.getActiveColor}},getActiveColor:function(){return this.activeColor||this.getParentProps("activeColor")},getIconSize:function(){return this.iconSize||this.getParentProps("iconSize")},activeKey:function(){return x(this.name)?this.parent.getCildIndex(this):this.name},activeItemClass:function(){return this.parent&&this.parent.isActiveItem(this.activeKey)?["omi-tabbar-item__active"]:[]}}};var Pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-tabbar-item",class:t.activeItemClass,style:t.itemStyles,on:{click:t.onClick}},[i("RouteButton",t._b({},"RouteButton",t.$attrs,!1),[i("badge",{attrs:{dot:t.dot,text:t.dotText,maxNumber:t.dotMaxNumber}},[t._t("icon",(function(){return[t.iconType?i("div",{staticClass:"omi-tabbar-item__icon"},[i("Icon",{attrs:{type:t.iconType,size:t.getIconSize}})],1):t._e()]})),t._v(" "),i("div",{staticClass:"omi-tabbar-item__text"},[t._t("default")],2)],2)],1)],1)};Pn._withStripped=!0;var Bn=s.default({render:Pn,staticRenderFns:[]},undefined,On,undefined,!1,undefined,void 0,void 0);Bn.install=function(t){t.component(Bn.name,Bn)};var En="round",An="round";const Dn={name:"OmiSkeleton",props:{animate:{type:Boolean,default:!0},avatar:{type:Boolean,default:!1},titleWidth:{type:Number,default:40},buttonWidth:{type:Number,default:100},avatarSize:{type:Number,default:32},title:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},avatarShape:{type:String,default:An,validator:function(t){return d(t,["square",An])}},buttonShape:{type:String,default:En,validator:function(t){return d(t,["square",En])}},rows:{type:Number,default:3}},computed:{titleStyles:function(){return"width: "+this.titleWidth+"%"},buttonStyles:function(){return"width: "+this.buttonWidth+"%"},avatarStyles:function(){var t=this.avatarSize;return"width: "+t+"px; height: "+t+"px"},wrapperClass:function(){return{"omi-skeleton__animate":this.animate}},contentClass:function(){return{"omi-skeleton__button--round":this.buttonShape===En}},avatarClass:function(){return{"omi-skeleton__avatar--round":this.avatarShape===An}}}};var Mn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("div",{staticClass:"omi-skeleton",class:t.wrapperClass},[t.avatar?i("div",{staticClass:"omi-skeleton-avatar",class:t.avatarClass,style:t.avatarStyles}):t._e(),t._v(" "),i("div",{staticClass:"omi-skeleton__body",class:t.contentClass},[t.title?i("h3",{staticClass:"omi-skeleton__title",style:t.titleStyles}):t._e(),t._v(" "),i("ul",{staticClass:"omi-skeleton__content"},t._l(t.rows,(function(e){return i("li",{key:e,style:t.buttonStyles})})),0)])]):t._e()};Mn._withStripped=!0;var zn=s.default({render:Mn,staticRenderFns:[]},undefined,Dn,undefined,!1,undefined,void 0,void 0);function Ln(t){if(t.file&&t.file.type)return t.file.type.indexOf("image")>=0;return!(!t.url||!/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t.url))}function Nn(){return Nn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Nn.apply(this,arguments)}zn.install=function(t){t.component(zn.name,zn)};var Fn="dataUrl",Rn={name:"OmiUploader",inheritAttrs:!1,model:{prop:"fileList"},props:{showProgress:{type:Boolean,default:!0},accept:{type:String,default:"image/*"},fileList:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},readType:{type:String,default:"dataUrl",validator:function(t){return d(t,["text",Fn,"file"])}},max:{type:Number,default:Number.MAX_VALUE},deleteAble:{type:Boolean,default:!0},afterAdd:{type:Function,default:function(t){return t}},beforeAdd:{type:Function,default:function(){return!0}},statusIconSize:{type:Number,default:42},onExceed:{type:Function,defualt:w},circleRadius:{type:Number,default:25},circleColor:{type:[String,Object],default:null}},methods:{clearInput:function(){this.$refs.uploader.value=""},onChange:function(t){var e=this,i=[].slice.call(t.target.files);if(!this.disabled&&i.length)if(this.fileList.length>=this.max)this.onExceed();else{var n=this.beforeAdd(i);if(b(n))n.then((function(t){var n=t||i;e.parseFiles(n)})).catch(this.clearInput);else if(!n)return void this.clearInput();this.parseFiles(i)}},parseFiles:function(t){var e=this,i=t;h(t)||(i=[].slice.call(t));var n=this.max-this.fileList.length;n<i.length&&(i=i.slice(0,n),this.onExceed()),Promise.all(i.map((function(t){return function(t,e){return new Promise((function(i,n){var r=new FileReader;"file"!==e?(r.onload=function(t){i(t.target.result)},r.onerror=function(){r.abort(),n(t)},"dataUrl"===e&&r.readAsDataURL(t),"text"===e&&r.readAsText(t)):i()}))}(t,e.readType)}))).then((function(t){var n=i.map((function(e,i){return{file:e,content:t[i],progress:null,status:"ready",closeMask:!1}}));e.handleFiles(n)})).catch((function(t){e.$emit("readError",t),e.clearInput()}))},handleFiles:function(t){var e=[].concat(this.fileList,t);this.$emit("input",e),this.afterAdd(e)},onPreview:function(t,e){var i=this;Tn({images:this.imagesUrl,initialIndex:e,onClose:function(){i.$emit("closePreview")}}),this.$emit("preview",t)},onDelete:function(t){var e=[].concat(this.fileList),i=e.indexOf(t);e.splice(i,1),this.$emit("input",e),this.$emit("delete",t)},getUploader:function(){var t=this.$createElement,e=this.$slots.uploader;return e?t("div",{class:"omi-uploader__upload--custom"},[e,t("input",{ref:"uploader",class:"omi-uploader__input",attrs:Nn({type:"file",accept:this.accept,disabled:this.disabled},this.$attrs),on:{change:this.onChange}})]):t("div",{class:"omi-uploader__upload"},[t(E,{attrs:{type:"add",size:32}}),t("input",{ref:"uploader",class:"omi-uploader__input",attrs:Nn({type:"file",accept:this.accept,disabled:this.disabled},this.$attrs),on:{change:this.onChange}})])},getCloseButton:function(t){var e=this,i=this.$createElement;return i("div",{class:"omi-uploader__close omi-icon__wrapper",on:{click:function(){return e.onDelete(t)}}},[i(E,{attrs:{type:"delete_fill"}})])},getPreviewMask:function(t){var e=this.$createElement,i=t.status,n=t.closeMask,r="sccuess"===i,o="error"===i,s=t.progress>=0&&!o&&!r,a=this.$scopedSlots.mask;if(a)return e("div",{class:"omi-uploader__preview--mask",directives:[{name:"show",value:!n}]},[a(t)]);var l=e("div",{class:"omi-uploader__progress",directives:[{name:"show",value:s}]},[this.showProgress?e(Yt,{attrs:{percentage:t.progress,circleRadius:this.circleRadius,strokeColor:this.circleColor}}):e(yt)]),u=e("transition",{attrs:{name:"fade-in"}},[e("div",{class:"omi-uploader__status",directives:[{name:"show",value:r||o}]},[r&&e(E,{attrs:{type:"success",size:this.statusIconSize}}),o&&e(E,{attrs:{type:"prompt",size:this.statusIconSize}})])]);return e("div",{class:"omi-uploader__preview--mask",directives:[{name:"show",value:!n}]},[l,u])},getPreview:function(){var t=this,e=this.$createElement;return this.fileList.map((function(i,n){var r=Ln(i),o=null,s=t.$scopedSlots.preview;return s?e("div",{class:"omi-upload__preview--custom"},[s(i)]):(o=r?e("div",{class:"omi-uploader__image"},[e(_n,{attrs:{src:i.url||i.content,placeholderHeight:"100%"},on:{click:function(){return t.onPreview(i,n)}}})]):e("div",{class:"omi-uploader__file"},[e(E,{attrs:{type:"document",size:32}}),e("span",[i.name])]),e("div",{class:"omi-uploader__preview"},[t.deleteAble&&t.getCloseButton(i),o,t.getPreviewMask(i)]))}))}},computed:{imagesUrl:function(){var t=[];return this.fileList.forEach((function(e){Ln(e)&&t.push(e.url||e.content)})),t}},render:function(){var t=arguments[0];return t("div",{class:"omi-uploader"},[t("div",{class:"omi-uploader__inner"},[this.getPreview(),this.getUploader()])])},install:function(t){t.component(Rn.name,Rn)}},Vn={name:"OmiIndexBox",data:function(){return{currentIndex:null,active:!1,touching:!1,anchorIndex:null}},mixins:[Be,{data:function(){return{scoller:null}},mounted:function(){this.scoller||(this.scoller=he(this.$el),this.scrollCallBack=y(this.onScroll,16),le(this.scoller,"scroll",this.scrollCallBack))},beforeDestroy:function(){ue(this.scoller,"scroll",this.scrollCallBack)}},Et("omiIndexBox")],props:{fixAnchor:{type:Boolean,default:!0},indexs:{type:Array,default:function(){for(var t=[],e="A".charCodeAt(),i=0;i<26;i++)t.push(String.fromCharCode(e+i));return t}},showIndexTip:{type:Boolean,default:function(){return!0}}},watch:{touching:function(t){t?document.body.classList.add("omi-index-box__touching"):document.body.classList.remove("omi-index-box__touching")}},computed:{isShowIndexTip:function(){var t=this.showIndexTip,e=this.currentIndex,i=this.active;return t&&null!==e&&i}},methods:{getPoint:function(t){return t.touches?t.touches[0]:t},onTouchStart:function(t){t.stopPropagation(),this.touchStart(t),this.scrollIntoView(t),this.touching=!0},onTouchMove:function(t){this.touchMove(t),t.preventDefault(),"vertical"===this.direction&&this.scrollIntoView(t)},onTouchEnd:function(){this.resetStatus()},onScroll:function(){var t=this.getOffsetTop,e=this.children,i=fe(this.scoller).top,n=de(this.scoller),r=e.map((function(e){return{offsetTop:t(e.$el,i,n)}})),o=this.getActiveAnchor(r,n);if(this.anchorIndex=o,-1!==o){var s=this.indexs[o];this.currentIndex=s,this.fixAnchor&&this.updateAnchor(o,r,i,n)}else this.resetActiveIndex()},resetStatus:function(){this.active=!1,this.touching=!1},resetActiveIndex:function(){if(null!==this.currentIndex){if(this.fixAnchor){var t=this.indexs.indexOf(this.currentIndex);this.children[t].reset()}this.currentIndex=null}else this.children.forEach((function(t){t.active&&t.reset()}))},getActiveAnchor:function(t,e){for(var i=this.children,n=i.length-1;n>=0;n--){var r=n>0?i[n-1].height:0,o=this.fixAnchor?r:0;if(t[n].offsetTop<=e+o)return n}return-1},getOffsetTop:function(t,e,i){var n=this.scoller,r=t.getBoundingClientRect().top;return n===window||n===document.body?t===window?0:r+(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0):r-e+i},updateAnchor:function(t,e,i,n){var r=this.indexs[t],o=this.indexs[t-1];this.children.forEach((function(t){var e=t.index;e===r&&e===o||t.reset()}));var s=this.children[t],a=e[t].offsetTop-n;if(t>0){var l=this.children[t-1];if(a>0){var u=l.height;l.update({top:a-u+i})}else l.reset()}s.update({top:Math.max(0,a)+i})},getSelectElement:function(t,e){if(e)return t.target;var i=this.getPoint(t),n=i.clientX,r=i.clientY;return document.elementFromPoint(n,r)},scrollIntoView:function(t,e){void 0===e&&(e=!1);var i=this.getSelectElement(t,e);if(i&&this.isIndexEle(i)){var n=i.dataset.index;if(this.currentIndex!==n){this.currentIndex=n;var r=this.children.filter((function(t){return t.index===n}));this.scrollTo(r[0])}this.active=!0,this.$emit("select",n)}},isIndexEle:function(t){return this.$refs.indexItem.some((function(e){return e===t}))},scrollTo:function(t){t&&t.$el.scrollIntoView()}}};const jn=Vn;var Wn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-index-box__wrapper",on:{touchend:t.onTouchEnd}},[i("ul",{staticClass:"omi-index-box__list",on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove}},[i("li",{directives:[{name:"show",rawName:"v-show",value:t.isShowIndexTip,expression:"isShowIndexTip"}],staticClass:"omi-index-box__tip"},[t._v(t._s(t.currentIndex))]),t._v(" "),t._l(t.indexs,(function(e){return i("li",{key:e,ref:"indexItem",refInFor:!0,staticClass:"omi-index-box__item",class:{"omi-index-box__active":e===t.currentIndex},attrs:{"data-index":e},on:{touchstart:t.onTouchStart}},[t._v(t._s(e))])}))],2),t._v(" "),t._t("default")],2)};Wn._withStripped=!0;var Hn=s.default({render:Wn,staticRenderFns:[]},undefined,jn,undefined,!1,undefined,void 0,void 0);Hn.install=function(t){t.component(Hn.name,Hn)};const Yn={name:"OmiIndexAnchor",mixins:[kt("omiIndexBox")],data:function(){return{offsetTop:0,active:!1,height:null}},props:{title:{type:String,default:function(){return""}},zIndex:{type:Number,default:1},index:{type:String,required:!0}},methods:{update:function(t){var e=t.top;this.active=!0,this.offsetTop=e},reset:function(){this.active=!1,this.offsetTop=0}},computed:{styles:function(){return this.active?"\n        height: "+this.height+"px; \n        transform: translate3d(0, "+this.offsetTop+"px,0);\n        z-index:"+this.zIndex+";\n        ":""}},mounted:function(){this.height=this.$el.offsetHeight}};var Xn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"omi-index-anchor",style:{height:t.active?t.height+"px":null}},[i("div",{staticClass:"omi-index-anchor__inner",class:{"omi-index-anchor__active":t.active},style:t.styles},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2)])};Xn._withStripped=!0;var qn=s.default({render:Xn,staticRenderFns:[]},undefined,Yn,undefined,!1,undefined,void 0,void 0);function Kn(){return Kn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Kn.apply(this,arguments)}qn.install=function(t){t.component(qn.name,qn)};var Un="arrive",Gn="reset",Zn="moving",Jn="reseting",Qn=Math.abs;const tr={name:"OmiSwipeAction",data:function(){return{documentBody:null,startX:0,startY:0,moveX:0,isHolding:!1,status:Gn,initialOffset:0,slideArea:null,preX:0,clientWith:{left:0,right:0}}},components:{Cell:et,Icon:E},props:{text:{type:String},showArrow:{type:Boolean,default:!0},threshold:{type:Number,default:.5},autoClose:{type:[Function,Boolean],default:function(){return!1}}},watch:{isMoving:function(t){t?this.preventDefaultEVent():this.removePreventClass()}},computed:{styles:function(){var t=this.status,e=this.isHolding;return t!==Gn||e?"\n          touch-action: pan-y;\n          transform: translate3d("+this.moveX+"px, 0,0) scale(1);\n        ":null},isMoving:function(){var t=this.status,e=this.isHolding;return t===Zn||!(t!==Gn||!e)}},methods:{removePreventClass:function(){this.documentBody.classList.remove("omi-swipe-action__no--event")},preventDefaultEVent:function(){this.documentBody.classList.add("omi-swipe-action__no--event")},isVertical:function(t,e){var i=Qn(t-this.startX),n=Qn(e-this.startY);return n>i&&n>5},close:function(){this.restPosition(0)},onClick:function(t){var e=this,i=this.autoClose;if(this.status===Un){var n=i;f(i)?i(t,(function(){e.restPosition(0)})):n&&this.restPosition(0)}this.$emit("click",t),this.isHolding&&(this.isHolding=!1)},setStatus:function(t){this.status=t},onTransitionEnd:function(){this.status===Jn&&this.setStatus(Gn)},onTouchStart:function(t){this.startX=this.getPoint(t).clientX,this.startY=this.getPoint(t).clientY,this.preX=this.startX,this.initialOffset=this.moveX,this.isHolding=!0},onTouchEnd:function(t){var e=this.getPoint(t).clientX,i=this.getDistance(e),n=this.theDirection(e,this.preX),r=this.getFinalPosition(n),o=this.threshold;(this.threshold>1||this.threshold<=0)&&(o=.5),0!==r&&Qn(i)>=Qn(r)*o?this.moveToFinal(r,0):this.status!==Un&&this.restPosition(0),this.isHolding=!1},getFinalPosition:function(t){var e=this.clientWith,i=this.slideArea;if("right"===i){if("left"===t)return 0-e.right}else if("left"===i&&"right"===t)return 0+e.left;return 0},getDistance:function(t){var e=t-this.startX+this.initialOffset;return parseInt(e)},onMove:function(t){var e=this.getPoint(t).clientX,i=this.getPoint(t).clientY;if(this.status!==Gn||!this.isVertical(e,i)){var n=this.theDirection(e,this.preX);if(null===this.slideArea&&this.setSlideArea(n),this.invalidMove(e,this.startX))this.moveToFinal(this.getFinalPosition(n),null);else{var r=this.getDistance(e);this.preX=e,this.walk(r)}}},walk:function(t){this.setStatus(Zn),this.moveTo(t)},moveToFinal:function(t,e){0===t?this.restPosition(e):(this.moveTo(t),this.setStatus(Un))},restPosition:function(t){null!==t&&(this.preX=t),this.slideArea=null,this.setStatus(Jn),this.moveTo(0),this.setStatus(Gn)},setSlideArea:function(t){return this.slideArea="left"===t?"right":"left",this.slideArea},moveTo:function(t){this.moveX=t},isOverOffset:function(t){var e=this.slideArea,i=this.getDistance(t),n=this.clientWith[e];return!!(0!==n&&Qn(i)>=Qn(n)||this.isOverBorder(e,this.moveX))},isOverBorder:function(t,e){return"right"===t?e>=0:e<=0},invalidMove:function(t,e){var i=this.status===Gn,n=this.theDirection(t,this.startX);return t===e||(!(!i||this.showSlot("left")||"right"!==n)||(!(!i||this.showSlot("right")||"left"!==n)||!(i||!this.isOverOffset(t))))},theDirection:function(t,e){return t-e>0?"right":"left"},getPoint:function(t){return t.changedTouches[0]},showSlot:function(t){return this.$slots[t]},getEleClientWith:function(t){return t.clientWidth},setClientWith:function(t,e){if(this.showSlot(t)){var i,n=this.$refs[t],r=this.getEleClientWith(n);this.clientWith=Kn({},this.clientWith,((i={})[e]=r,i))}}},mounted:function(){this.documentBody=document.body,this.setClientWith("right","right"),this.setClientWith("left","left")}};var er=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Cell",{staticClass:"omi-swipe-action__wrap",class:{"omi-swipe-action__moving":t.isMoving},scopedSlots:t._u([{key:"content",fn:function(){return[t.showSlot("left")?i("div",{ref:"left",staticClass:"omi-swipe-action__actions omi-swipe-action__left"},[t._t("left")],2):t._e(),t._v(" "),t.showSlot("right")?i("div",{ref:"right",staticClass:"omi-swipe-action__actions omi-swipe-action__right"},[t._t("right")],2):t._e(),t._v(" "),i("div",{staticClass:"omi-swipe-action__content omi-swipe-action__transform",style:t.styles,on:{touchstart:t.onTouchStart,touchend:t.onTouchEnd,touchmove:t.onMove,transitionend:t.onTransitionEnd,click:t.onClick}},[i("div",{staticClass:"omi-swipe-action__item--text"},[t._t("default",(function(){return[t._v(t._s(t.text))]}))],2),t._v(" "),t.showSlot("extra")?i("div",{staticClass:"omi-swipe-action__item--extra"},[t._t("extra")],2):t._e(),t._v(" "),t._t("arrow",(function(){return[t.showArrow?i("Icon",{attrs:{type:"enter"}}):t._e()]}))],2)]},proxy:!0}],null,!0)})};er._withStripped=!0;var ir=s.default({render:er,staticRenderFns:[]},undefined,tr,undefined,!1,undefined,void 0,void 0);ir.install=function(t){t.component(ir.name,ir)};var nr={Form:I,FormItem:ot,Input:ht,Cell:et,CellGroup:pt,Button:$t,Loading:yt,Checkbox:Ot,CheckboxGroup:zt,Redio:Lt,RadioGroup:Rt,Icon:E,Circle:Yt,Switch:Kt,Collapse:xe,CollapseItem:Te,ActionSheet:Fe,Dialog:Xe.Component,LoadMore:Je,PullRefresh:ui,Tabs:gi,TabsPane:bi,Badge:di,Picker:Ti,AddressPicker:Ei,DatePicker:sn,Search:cn,Rate:pn,ImagePreview:Tn.Component,Image:_n,TabBar:In,TabBarItem:Bn,Skeleton:zn,Uploader:Rn,NavBar:z,IndexBox:Hn,IndexAnchor:qn,SwipeAction:ir},rr={version:""+process.env.PACKAGE_VERSION,install:function t(e){t.installed||(Object.keys(nr).forEach((function(t){e.component(nr[t].name,nr[t])})),"undefined"!=typeof window&&window.Vue&&t(window.Vue),e.prototype.$toast=_e,e.prototype.$dialog=Xe,e.prototype.$imagePreview=Tn)},components:nr};return rr}));
